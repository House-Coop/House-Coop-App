(function(t){function e(e){for(var i,o,n=e[0],l=e[1],c=e[2],d=0,p=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},r={app:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0a6e":function(t,e,a){"use strict";var i=a("4cc2"),r=a.n(i);r.a},"0ed2":function(t,e,a){"use strict";var i=a("944b"),r=a.n(i);r.a},1:function(t,e){},"11ad":function(t,e,a){"use strict";var i=a("665e"),r=a.n(i);r.a},1274:function(t,e,a){},2:function(t,e){},"237a":function(t,e,a){},3:function(t,e){},"364c":function(t,e,a){},"39cd":function(t,e,a){},"3c98":function(t,e,a){"use strict";var i=a("1274"),r=a.n(i);r.a},4:function(t,e){},4334:function(t,e,a){"use strict";var i=a("a42f"),r=a.n(i);r.a},"4cc2":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("99af"),a("0d03"),a("d3b7"),a("25f0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),r=a("bc3a"),s=a.n(r),o=a("a7fe"),n=a.n(o),l=a("2f62"),c=a("5f5b"),u=(a("f9e3"),a("2dd8"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grey-bg",attrs:{id:"app"}},[a("CAHeader"),a("div",{staticClass:"container "},[a("div",{staticClass:"row "},[a("main",{staticClass:"col col-md-12 mb-5",attrs:{role:"main"}},[a("CANotification"),a("router-view")],1)])]),a("CAFooter")],1)}),d=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticClass:"sticky-top navbar-expand-md justify-content-center ca-custom-nav",attrs:{toggleable:"md"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("img",{staticClass:"d-inline-block logo-header mr-2",attrs:{src:"/img/housecoop-icon.svg"}}),t._v(" "+t._s(t.instance.title)+" ")]),a("b-navbar-toggle",{staticClass:"ml-auto",attrs:{target:"nav-collapse"}}),a("b-collapse",{staticClass:"collapse justify-content-between align-items-center w-100",attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"navbar-nav mx-auto text-center",attrs:{center:""}},[t.setupCompleted?a("b-nav-item",{staticClass:"nav-item",attrs:{to:"/home"}},[t._v(" Home ")]):t._e(),t.setupCompleted?a("b-nav-item",{staticClass:"nav-item",attrs:{to:"/categories"}},[t._v(" Project ")]):t._e(),t.setupCompleted?a("b-nav-item",{staticClass:"nav-item",attrs:{to:"/members"}},[t._v(" Community ")]):t._e(),t.setupCompleted?t._e():a("b-nav-item",{staticClass:"nav-item",attrs:{to:"/setup"}},[t._v(" Setup your organisation ")])],1),-1!==t.user_id?a("b-navbar-nav",{staticClass:"flex-row justify-content-center flex-nowrap",attrs:{right:""}},[a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" "+t._s(t.username)+" ")]},proxy:!0}],null,!1,80317748)},[a("b-dropdown-item",{attrs:{href:"#"},on:{click:t.gotoProfile}},[t._v("Profile")]),a("b-dropdown-item",{attrs:{href:"#"},on:{click:t.logOut}},[t._v("Sign Out")])],1),a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"ca-img-thumbnail",style:t.generateBgImage()})])],1):a("b-navbar-nav",{staticClass:"flex-row justify-content-center flex-nowrap",attrs:{right:""}},[a("b-nav-item",{attrs:{href:"#"},on:{click:t.gotoLogin}},[t._v("Login")]),a("b-nav-item",{attrs:{href:"#"},on:{click:t.gotoRegister}},[t._v("Register")])],1)],1)],1)},m=[],h=(a("ac1f"),a("5319"),{name:"CAHeader",components:{},props:{},data:function(){return{}},computed:{user_id:function(){return this.$store.state.user_id},currentPrivilege:function(){return this.$store.state.privilege},username:function(){return this.$store.state.username},profileImg:function(){return this.pathToImage(this.$store.state.profileImg)},instance:function(){return this.$store.state.instance||{title:"",description:""}},setupCompleted:function(){var t=this.$store.state.instance;return null!=t&&-1!=t._id}},methods:{gotoLogin:function(){this.$router.push({name:"login",params:{}})},gotoRegister:function(){this.$router.push({name:"register",params:{}})},gotoProfile:function(){this.$router.push({name:"account",params:{}})},logOut:function(){var t=this;this.$store.commit("logOut"),this.axios.get(this.$API+"/users/logout").then((function(){t.$store.commit("logOut"),t.$router.push({name:"login",params:{}})})).catch((function(e){window.console.log(e),t.$router.push({name:"welcome",params:{}})}))},pathToImage:function(t){var e=this.$API.replace("api","");return t?e+t:e+"uploads/images/defaultUser.png"},generateBgImage:function(){return"background-image: url('".concat(this.pathToImage(this.$store.state.profileImg),"')")}},mounted:function(){}}),f=h,g=(a("8b7e"),a("2877")),v=Object(g["a"])(f,p,m,!1,null,"2b63040d",null),b=v.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mx-auto my-2"},[t.msgSuccess?a("b-alert",{attrs:{variant:"success",dismissible:"",show:"",fade:""}},[t._v(t._s(t.msgSuccess))]):t._e(),t.msgWarning?a("b-alert",{attrs:{variant:"warning",dismissible:"",show:"",fade:""}},[t._v(t._s(t.msgWarning))]):t._e(),t.msgError?a("b-alert",{attrs:{variant:"danger",dismissible:"",show:"",fade:""}},[t._v(t._s(t.msgError))]):t._e()],1)])},_=[],w=(a("a15b"),{name:"CANotification",props:{},computed:{msgSuccess:function(){var t=this.$store.state.msgSuccess;return Array.isArray(t)&&(t=t.join("<br>")),t},msgWarning:function(){var t=this.$store.state.msgWarning;return Array.isArray(t)&&(t=t.join("<br>")),t},msgError:function(){var t=this.$store.state.msgError;return Array.isArray(t)&&(t=t.join("<br>")),t}}}),C=w,A=Object(g["a"])(C,y,_,!1,null,"73c77008",null),E=A.exports,S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer py-5 px-3 mt-5"},[a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("div",{staticStyle:{width:"50%",display:"flex","justify-content":"space-between"}},[a("div",[a("img",{staticStyle:{height:"2rem"},attrs:{src:"/img/eu-logo.jpg"}})]),a("div",{staticClass:"text-grey mx-2",staticStyle:{"text-align":"center","line-height":"1rem"}},[a("small",[t._v("This project has received funding from the European Union’s Horizon 2020 research and innovation programme within the framework of the LEDGER Project funded under grant agreement No825268")])]),a("div",[a("img",{staticStyle:{height:"2rem"},attrs:{src:"/img/ngi-ledger-logo.png"}})])])])])}],I={name:"CAFooter",props:{}},k=I,D=(a("6a12"),Object(g["a"])(k,S,x,!1,null,"e681733a",null)),R=D.exports,T={name:"app",components:{CAHeader:b,CANotification:E,CAFooter:R},data:function(){return{}},computed:{instance:function(){return this.$store.getters.instance}},methods:{logIn:function(){this.axios.get(this.$API+"/users/profile").then(this.onSuccess).catch(this.onFailure)},onSuccess:function(t){window.console.log(">> App.vue > logged in with request: ",t),this.$store.commit("logIn",t.data),this.$CryptoWrapper.storePublicKey(t.data.publicKey).then((function(t){window.console.log(">> App.vue >saved publicKey",t)})).catch((function(t){window.console.log(">> App.vue ERR while saving publicKey",t)}))},onFailure:function(t){window.console.log(">> App.vue > could not access /profile",t),this.$store.commit("logOut"),this.$router.push({name:"login"})}},mounted:function(){var t=this;this.$CryptoWrapper.init().then((function(){if(window.console.log(">> App.vue > Cryptowrapper succesfully started"),window.console.log(">> App.vue > Check logged in: ",t.$store.getters.loggedIn),!t.$store.getters.loggedIn)return t.logIn()})).catch((function(t){window.console.log(">> App.vue > could not init cryptowrapper",t)})),this.axios.get(this.$API+"/instance").then((function(e){t.$store.commit("setInstance",e.data),t.$router.push({name:"home"})})).catch((function(e){t.$store.commit("unsetInstance"),window.console.log(">> CAHeader > error while accessing /instance",e)}))}},P=T,M=(a("5c0b"),Object(g["a"])(P,u,d,!1,null,null,null)),$=M.exports,O=a("8c4f"),L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"justify-content-center  row"},[a("div",{staticClass:"col-10"},[a("div",{staticClass:"ca-img-thumbnail",style:t.generateBgImage()}),a("div",{staticClass:"row mt-5 mb-2"},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",[t._v(t._s(t.instance.title))]),a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[t.isAuthorized?a("b-button",{staticClass:"float-right tool-button ",attrs:{to:{name:"setup",params:{}}}},[a("p",{},[a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_pencil_black.svg"}}),t._v(" Edit organisation")])]):t._e()],1)])]),a("div",{staticClass:"mb-5"},[a("p",{staticStyle:{"white-space":"pre-wrap"}},[t._v(" "+t._s(t.instance.description)+" ")])])]),t.isAuthorized?a("CAMyOpenVotes"):t._e()],1)},j=[],U=a("c9d9"),V=a.n(U),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",{staticClass:"display-4 my-3"},[t._v("Open votes")]),a("div",{},[a("b-card-group",{attrs:{columns:""}},t._l(t.openArticles,(function(e){return a("b-card",{key:e.key,staticClass:"overflow-hidden",attrs:{"header-bg-variant":"transparent","header-border-variant":"light","no-body":""},on:{click:function(a){return t.gotoArticle(e)}}},[a("div",{staticClass:"card-content article-card"},[a("div",{staticClass:"mt-2"},[t._v(" "+t._s(t.formatDate(e.createdAt))+" "),t.isDraft(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"secondary"}},[t._v("Draft")])],1):t._e(),t.isUnderVote(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"warning"}},[t._v("In vote")])],1):t._e(),t.isAdopted(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"success"}},[t._v("Adopted")])],1):t._e(),t.isRejected(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"danger"}},[t._v("Rejected")])],1):t._e()]),a("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end"}},[a("b-card-title",{staticClass:"overflow-hidden ",staticStyle:{"max-height":"6rem"}},[t._v(" "+t._s(e.title)+" ")]),a("div",[a("hr")]),a("b-card-text",{staticClass:"overflow-hidden; mb-3 mt-2",staticStyle:{"min-height":"8rem","max-height":"8rem"}},[t._v(" "+t._s(e.description)+" ")])],1)])])})),1),0==t.openArticles.length?a("div",{staticClass:"text-center py-5 text-secondary"},[a("h4",[t._v("There are no open votes for you.")])]):t._e()],1)])},F=[],G=(a("a4d3"),a("e01a"),a("4de4"),a("d81d"),a("a9e3"),a("2ef0")),B=a.n(G);String.prototype.trunc=String.prototype.trunc||function(t){return this.length>t?this.substr(0,t-1)+"…":this};var z={name:"CAMyOpenVotes",props:{id:Number},data:function(){return{title:"",image:"",description:"",fields:["title"],articles:[],openArticles:[],breadcrumbItems:[{text:"Project",to:"/categories"},{text:"loading...",active:!0}],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},computed:{isAuhtorized:function(){return this.$store.state.privilege>=V.a.USER_PRIVILEGE_MEMBER},_articles:function(){return this.articles.map((function(t){return{title:t.title,description:t.description.trunc(110),id:t.id,createdAt:t.createdAt,lock:t.lock,lockDueDate:t.lockDueDate,status:t.status}}))}},created:function(){var t=this;this.axios.get(this.$API+"/articles/?category="+this.$route.params.id).then((function(e){window.console.log(">> CAMyOpenVotes > requested articles: ",e.data),t.articles=e.data,t.filterOpenVotes()}))},methods:{gotoArticle:function(t){this.$router.push({name:"article",params:{id:t.id}})},newArticle:function(){this.$router.push({name:"newArticle",params:{category:this.$route.params.id}})},isDraft:function(t){return t.status==V.a.ARTICLE_STATUS_DRAFT},isUnderVote:function(t){return t.status==V.a.ARTICLE_STATUS_PENDING},isNotVotedOnByMe:function(t){return t.status==V.a.ARTICLE_STATUS_PENDING},isAdopted:function(t){return t.status==V.a.ARTICLE_STATUS_ADOPTED},isRejected:function(t){return t.status==V.a.ARTICLE_STATUS_REJECTED},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},pathToImage:function(){var t=this.$API.replace("api","");return t+this.image},generateBgImage:function(){return"background-image: url('".concat(this.pathToImage(),"')")},filterOpenVotes:function(){this.openArticles=B.a.filter(this.articles,["status",V.a.ARTICLE_STATUS_PENDING]),window.console.log("CAMyOpenVotes filterOpenVotes >> ",this.openArticles)}},mounted:{}},J=z,K=(a("11ad"),Object(g["a"])(J,N,F,!1,null,"0f00b632",null)),Y=K.exports,W="/img/abstract-coop.svg",q={name:"CAContainer",props:{},components:{CAMyOpenVotes:Y},data:function(){return{title:"",image:W,description:"",createdAt:""}},computed:{isAuthorized:function(){return this.$store.state.privilege>=V.a.USER_PRIVILEGE_ADMIN},instance:function(){return this.$store.state.instance||{title:"",description:""}}},mounted:function(){window.console.log("CAWelcome >>  instance: ",this.$store.state.instance._id),-1==this.$store.state.instance._id&&(this.$router.push({name:"setup"}),window.console.log("CAWelcome >>  forwarding to setup! "))},methods:{formatDate:function(t){var e=new Date(t);return e.getDate()+" "+V.a.months[e.getMonth()]+" "+e.getFullYear()},pathToImage:function(t){if(t==W)return W;var e=this.$API.replace("api","");return t?e+t:e+"uploads/images/defaultUser.png"},generateBgImage:function(){return"background-image: url('".concat(this.pathToImage(this.image),"')")}}},H=q,Z=(a("aeb2"),Object(g["a"])(H,L,j,!1,null,"50bf3ff0",null)),Q=Z.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12"},[t._m(0),t._v(" "+t._s(t.error)+" "),a("CARequestError",{attrs:{error:t.error}}),a("b-tabs",{attrs:{"content-class":"mt-3",justified:"",lazy:""}},[a("b-tab",{staticClass:"tab",attrs:{title:"Members",active:""}},[a("CAMembersDeck",{attrs:{members:t.membersAndUp}})],1),a("b-tab",{attrs:{title:"Aspirants"}},[a("CAMembersDeck",{attrs:{members:t.aspirants}})],1),a("b-tab",{attrs:{title:"Admins"}},[a("CAMembersDeck",{attrs:{members:t.admins}})],1),a("b-tab",{attrs:{title:"Coaches"}},[a("CAMembersDeck",{attrs:{members:t.coach}})],1),a("b-tab",{attrs:{title:"All"}},[a("CAMembersDeck",{attrs:{members:t._members}})],1)],1)],1)])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mt-3 mb-3"},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Community")])])])}],et=(a("7db0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[t.accessDenied?a("b-alert",{attrs:{show:"",variant:"secondary"}},[a("h4",{staticClass:"alert-heading"},[t._v("Acces denied")]),a("p",[t._v(" You do not have permission to view this directory or page. ")]),a("p",{},[t._v(" "+t._s(t.errorMsg)+" ")])]):t._e(),t.errorOccured?a("b-alert",{attrs:{show:"",variant:"warning"}},[a("h4",{staticClass:"alert-heading"},[t._v("An error has occured")]),a("p",[t._v(" "+t._s(t.errorMsg)+" ")])]):t._e()],1)}),at=[],it=(a("c975"),{name:"CARequestError",props:["error"],data:function(){return{accessDenied:!1,errorOccured:!1,errorMsg:""}},computed:{_error:function(){try{return JSON.parse(JSON.stringify(this.error))}catch(t){return{}}}},methods:{refresh:function(){if(!this.error)return window.console.log(">> CARequestError > no real error");if(this._error.hasOwnProperty("message")){if(this.errorMsg=this._error.message,this._error.message.indexOf("403")>=0)return this.accessDenied=!0;this.errorOccured=!0}}},created:function(){window.console.log(">> CARequestError > MOUNTED > error passed: ",this._error),this._error&&this.refresh()},updated:function(){window.console.log(">> CARequestError > UPDATED > error passed: ",this._error),this._error&&this.refresh()}}),rt=it,st=Object(g["a"])(rt,et,at,!1,null,"2493d340",null),ot=st.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t._members.length?a("b-card-group",{attrs:{columns:""}},t._l(t._members,(function(e){return a("b-card",{key:e.key,staticClass:"overflow-hidden",attrs:{"header-bg-variant":"","border-variant":"","footer-bg-variant":"white","no-body":""},on:{click:function(a){return t.showUser(e)}}},[a("div",{staticClass:"card-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 my-3"},[a("div",{staticClass:" ca-img-thumbnail",style:t.generateBgImage(e.profileImg)})]),a("div",{staticClass:"col-8 my-3 ",staticStyle:{position:"relative"}},[e.you?a("b-badge",{staticClass:" float-right",staticStyle:{"align-self":"flex-start"},attrs:{pill:"",variant:"primary"}},[t._v(" YOU ")]):t._e(),a("div",{staticStyle:{position:"absolute",height:"100%",display:"flex"}},[a("h5",{staticStyle:{"align-self":"flex-end"}},[t._v(t._s(e.username))])])],1)]),a("hr"),a("span",[t._v(t._s(e.label)),a("span",{staticClass:"text-muted"},[t._v(" since "+t._s(t.formatDate(e.createdAt)))])])])])})),1):a("div",{staticClass:"text-center py-5 text-secondary"},[a("h4",[t._v("No persons in this category.")])])],1)},lt=[],ct={name:"CAMembersDeck",props:["members"],components:{},data:function(){return{}},computed:{_members:function(){return window.console.log(">> CAMembersDeck > list of members: ",this.members),window.console.log("CAMembersDeck: ",this.members),this.members}},methods:{showUser:function(t){this.$router.push({name:"member",params:{id:t._id}})},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+V.a.months[e.getMonth()]+" "+e.getFullYear()},pathToImage:function(t){var e=this.$API.replace("api","");return t?e+t:e+"uploads/images/defaultUser.png"},generateBgImage:function(t){return"background-image: url('".concat(this.pathToImage(t),"')")}},created:function(){},update:function(){}},ut=ct,dt=(a("0ed2"),Object(g["a"])(ut,nt,lt,!1,null,"6372cc6f",null)),pt=dt.exports,mt=[{value:null,text:"Please select an option",disabled:!0},{text:"Admin",value:V.a.USER_PRIVILEGE_ADMIN},{text:"Founder",value:V.a.USER_PRIVILEGE_FOUNDER},{text:"Board",value:V.a.USER_PRIVILEGE_BOARD},{text:"Member",value:V.a.USER_PRIVILEGE_MEMBER},{text:"Coach",value:V.a.USER_PRIVILEGE_COACH},{text:"Partner",value:V.a.USER_PRIVILEGE_PARTNER},{text:"Financier",value:V.a.USER_PRIVILEGE_FINANCIER},{text:"Applying for membership",value:V.a.USER_PRIVILEGE_APPLICANT_MEMBER},{text:"Applying to become coach",value:V.a.USER_PRIVILEGE_APPLICANT_COACH},{text:"Applying for partnership",value:V.a.USER_PRIVILEGE_APPLICANT_PARTNER},{text:"Aspirant",value:V.a.USER_PRIVILEGE_ASPIRANT},{text:"Visitor",value:V.a.USER_PRIVILEGE_VISITOR}],ht={name:"CAMembers",components:{CARequestError:ot,CAMembersDeck:pt},props:{},data:function(){return{fields:["username","privilege","you"],members:[],you:"",options:mt,error:null,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},computed:{_members:function(){var t=this;return 0==this.members.length?[]:this.members.map((function(e){var a=e;return a.label=B.a.find(mt,(function(t){return t.value==e.privilege})).text,a.you=e._id==t.you?"you":"",a}))},admins:function(){return this.members.filter((function(t){return t.privilege==V.a.USER_PRIVILEGE_ADMIN}))},coach:function(){return this.members.filter((function(t){return t.privilege==V.a.USER_PRIVILEGE_COACH}))},aspirants:function(){return this.members.filter((function(t){return t.privilege==V.a.USER_PRIVILEGE_ASPIRANT}))},membersAndUp:function(){return this.members.filter((function(t){return t.privilege>=V.a.USER_PRIVILEGE_MEMBER}))}},mounted:function(){var t=this;this.axios.get(this.$API+"/users/").then((function(e){window.console.log(e),t.members=e.data.members,t.you=e.data.you})).catch((function(e){t.error=e})),this._members()},methods:{showUser:function(t){this.$router.push({name:"member",params:{id:t._id}})},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},pathToImage:function(t){var e=this.$API.replace("api","");return t?e+t:e+"uploads/images/defaultUser.png"},generateBgImage:function(t){return"\n\t\t\t\t\tbackground-image: url('".concat(this.pathToImage(t),"')")}}},ft=ht,gt=(a("822b"),Object(g["a"])(ft,X,tt,!1,null,"1f8a8e2f",null)),vt=gt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" justify-content-center my-5 row"},[a("div",{staticClass:"col-10"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"my-0 ca-img-thumbnail",style:t.generateBgImage(t.image)})]),a("div",{staticClass:"col-8"},[a("div",{staticClass:"vertical-center"},[a("h2",[t._v(" "+t._s(t.username)+" ")]),a("h6",{staticClass:"text-muted"},[a("a",{attrs:{href:t.generateMail()}},[t._v(t._s(t.email))])]),a("h6",[t._v(t._s(t.privilegeLabel)),a("span",{staticClass:"text-muted"},[t._v(" since "+t._s(t.formatDate(t.createdAt)))])])])])]),a("div",[a("p",{staticClass:"my-4"},[t._v(" "+t._s(t.description)+" ")])]),a("div",{},[a("CAVote")],1),a("div",{},[a("CABallot")],1),a("div",{},[a("CAOutcome")],1),t.isAllowed?a("div",{staticClass:"col-md-8 my-5"},[a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{id:"privilege-group",label:"Privilege level","label-for":"privilege","label-cols-sm":"4","label-cols-lg":"3"}},[a("b-form-select",{attrs:{options:t.options},model:{value:t.privilege,callback:function(e){t.privilege=e},expression:"privilege"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Adjust privilege level")])],1)],1):t._e()])])},yt=[],_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row my-3 "},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Your ballot")]),a("b-button",{staticClass:"float-right tool-button ",on:{click:t.verifyBallotAndShowModal}},[a("p",{},[t._v("Verify ballot "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_magnifying_glass.svg"}})])])],1)]),t.notVotedYet?a("b-card",{staticClass:"ballot",staticStyle:{"min-width":"20rem"},attrs:{"no-body":"","header-border-variant":"light","border-variant":"primary","header-bg-variant":"primary","header-text-variant":"white",align:"left"}},[t._v(" Article "),a("h4",[t._v(t._s(t.article.title))]),a("hr"),a("div",[a("div",{staticClass:"row"},[a("b-button",{staticClass:"tool-button ballot-btn",on:{click:function(e){return t.setVote("reject")}}},[a("div",{staticClass:"ballot-checkbox float-left mr-3"},[t.checkVote("reject")?a("img",{attrs:{src:"/img/ballot-checkmark-reject.svg"}}):t._e()]),a("h4",{staticClass:"float-right",style:t.voteColorStyle("reject","#ff3a20")},[t._v("Reject")])])],1),a("div",{staticClass:"row"},[a("b-button",{staticClass:" tool-button ballot-btn",on:{click:function(e){return t.setVote("accept")}}},[a("div",{staticClass:"ballot-checkbox float-left mr-3"},[t.checkVote("accept")?a("img",{attrs:{src:"/img/ballot-checkmark-accept.svg"}}):t._e()]),a("h4",{staticClass:"float-right",style:t.voteColorStyle("accept","#0055ff")},[t._v("Accept")])])],1),a("div",{staticClass:"row "},[a("b-button",{staticClass:"tool-button ballot-btn ",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"},on:{click:function(e){return t.setVote("withold")}}},[a("div",{staticClass:"ballot-checkbox float-left mr-3"},[t.checkVote("withold")?a("img",{attrs:{src:"/img/ballot-checkmark-withold.svg"}}):t._e()]),a("p",{staticClass:"float-right ",staticStyle:{color:"black"}},[t._v("Withold on this vote")])])],1)]),a("hr"),a("div",{staticClass:"pt-2"},[t._v(" "+t._s(t.decryptedBallot.proposal.voteTitle)),a("br"),t._v(" "+t._s(t.decryptedBallot.proposal.voteDescription)+" ")]),a("hr"),a("div",{staticClass:"py-2"},[t._v(" Due date"),a("br"),t._v(" "+t._s(t.formatDate(t.decryptedBallot.proposal.dueDate))+" ")])]):a("b-alert",{attrs:{show:""}},[t._v("You have already voted.")]),t.notVotedYet?a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("b-button",{staticClass:"big-button display-4 my-4",on:{click:t.checkBallotAndShowModal}},[t._v("Place vote")])],1):t._e(),a("b-modal",{attrs:{id:"modal-center-vote",centered:"",title:"Confirm your vote"},on:{ok:t.onAccept},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel,s=e.hide;return[a("b-button",{attrs:{size:"md",variant:"outline-secondary"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(t){i(),s()}}},[t._v(" Place vote ")])]}}])},[a("p",[t._v("You are about to "+t._s(t.vote)+" article "+t._s(t.article.title)+". Are you sure?")])]),a("b-modal",{attrs:{id:"modal-center-verify",centered:"",title:"verify ballot",size:"xl"},on:{ok:t.onClose},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=(e.cancel,e.hide);return[a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){i(),r()}}},[t._v(" OK ")])]}}])},[a("p",[t._v("Ballot hash "+t._s(t.proposalHash))])])],1)},wt=[],Ct=(a("96cf"),{name:"CABallot",props:["article"],data:function(){return{ballot:{},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],decryptedBallot:{proposal:{voteTitle:"",voteDescription:"",articleTitle:"",dueDate:""}},proposalHash:0,notVotedYet:!0,vote:"undefined"}},computed:{daysUntilDueDate:function(){return Math.round((new Date(this.article.lock.dueDate).getTime()-(new Date).getTime())/864e5)},alreadyVoted:function(){return!this.notVotedYet}},methods:{getBallot:function(){var t=this;this.axios.get(this.$API+"/articles/"+this.article._id+"/ballot").then((function(e){window.console.log(">>CABallot > resp",e),t.ballot=e.data,t.proposalHash=e.data.proposalHash,t.decryptBallot(e.data.ballot)})).catch((function(e){window.console.log(">> CABallot > Error when downloading ballot:",e.response.data.err),e.response.data.err.indexOf("user has already voted")>=0&&(t.notVotedYet=!1)}))},decryptBallot:function(t){var e=this,a=this.$store.state.username;a&&this.$CryptoWrapper.decryptMessageForUser(a,t).then((function(t){try{window.console.log(">>CABallot > decrypted",t),e.decryptedBallot=JSON.parse(window.atob(t.message))}catch(a){window.console.log(">>CABallot > parseError",a)}}))},onReject:function(){window.console.log(">>CABallot > Rejected"),this.decryptedBallot.myVote=V.a.VOTE_STATUS_NAY,this.castBallot()},onAccept:function(){window.console.log(">> CABallot > Accepted"),this.decryptedBallot.myVote=V.a.VOTE_STATUS_YAY,this.castBallot()},onWithhold:function(){window.console.log(">> CABallot > Withheld"),this.decryptedBallot.myVote=V.a.VOTE_STATUS_WITHELD,this.castBallot()},generateSignedBallot:function(){var t=this.$store.state.user_id;return this.$CryptoWrapper.signMessage(t,this.decryptedBallot)},castBallot:function(){var t=this;this.generateSignedBallot().then((function(e){var a,i,r,s;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return a=t.$store.state.user_id,o.next=3,regeneratorRuntime.awrap(t.$CryptoWrapper.getAppCredentials(a));case 3:return i=o.sent,r=i[a].keypair.public_key,s={publicKey:r,signedBallot:e},o.abrupt("return",t.axios.put(t.$API+"/articles/"+t.article._id+"/ballot",s));case 7:case"end":return o.stop()}}))})).then(this.onSuccess).catch(this.onFailure)},onSuccess:function(t){window.console.log(">> CABallot > success",t),this.$store.commit("alertSuccess","Your vote was recorded"),this.notVotedYet=!1},onFailure:function(t){window.console.log(">> CABallot > failure",t),"user has already voted"==t&&(this.notVotedYet=!1),this.$store.commit("alertError","Your vote could not be recorded")},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},checkBallotAndShowModal:function(){this.$bvModal.show("modal-center-vote")},verifyBallotAndShowModal:function(){this.$bvModal.show("modal-center-verify")},setVote:function(t){this.vote=t},checkVote:function(t){return t==this.vote},voteColorStyle:function(t,e){return t==this.vote?(window.console.log("voteColorStyle ","color: "+e),"color: "+e):"color: black;"}},created:function(){window.console.log(">> CABallot > Mounted",this.article),this.getBallot()},updated:function(){window.console.log(">> CABallot > Updated",this.article)}}),At=Ct,Et=Object(g["a"])(At,_t,wt,!1,null,"11d6f15c",null),St=Et.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t._m(0),a("b-card",{attrs:{"no-body":"","header-border-variant":"light","border-variant":"warning","header-bg-variant":"warning","header-text-variant":"white",align:"left"}},[a("div",{staticClass:"card-content mt-2"},[a("b-form",{ref:"form"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label text-light-grey",attrs:{for:"lockTitle"}},[t._v("Title")]),a("b-form-input",{ref:"lockTitle",staticClass:"form-control input-md h4 ",attrs:{id:"lockTitle",name:"lockTitle",placeholder:"Vote title",required:""},model:{value:t.articleLock.title,callback:function(e){t.$set(t.articleLock,"title",e)},expression:"articleLock.title"}})],1),a("hr"),a("div",{staticClass:"form-group mt-1"},[a("label",{staticClass:"control-label text-light-grey",attrs:{for:"lockDescription"}},[t._v("Description")]),a("b-form-textarea",{ref:"lockDescription",staticClass:"form-control",attrs:{id:"lockDescription",name:"lockDescription",placeholder:"Describe the vote",required:"",rows:"2","no-resize":""},model:{value:t.articleLock.description,callback:function(e){t.$set(t.articleLock,"description",e)},expression:"articleLock.description"}})],1),a("hr"),a("div",{staticClass:"form-group mt-1"},[a("label",{staticClass:"control-label text-light-grey",attrs:{for:"lockDueDate"}},[t._v("Vote Due Date")]),a("b-form-input",{ref:"lockDueDate",staticClass:"form-control",attrs:{type:"date",id:"lockDueDate",name:"lockDueDate",required:""},model:{value:t.articleLock.dueDate,callback:function(e){t.$set(t.articleLock,"dueDate",e)},expression:"articleLock.dueDate"}})],1)])],1)]),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("b-button",{staticClass:"big-button display-4 my-4",on:{click:t.checkFormAndShowModal}},[t._v("Open vote")])],1),a("b-modal",{attrs:{id:"modal-open-vote",centered:"",title:"Open the vote"},on:{ok:t.onOpenVote},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel,s=e.hide;return[a("b-button",{attrs:{size:"md",variant:"outline-secondary"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){i(),s()}}},[t._v(" Open vote ")])]}}])},[a("p",[t._v("You are about to open "),a("b",[t._v(t._s(t.article.title))]),t._v(" for a vote. Are you sure?")])])],1)},It=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-3"},[a("h1",{staticClass:"display-4"},[t._v("Draft vote")])])}];a("fb6a");Date.prototype.getDateFieldFormat=function(){var t=new Date(this),e=[];return e.push(t.getFullYear()),e.push(("0"+(t.getMonth()+1)).slice(-2)),e.push(("0"+t.getDate()).slice(-2)),e.join("-")};var kt={name:"CAVote",props:["article"],data:function(){return{articleLock:{title:"",description:"",dueDate:(new Date).getDateFieldFormat()}}},computed:{},methods:{checkFormAndShowModal:function(){this.$refs["form"].reportValidity()&&this.$bvModal.show("modal-open-vote")},onOpenVote:function(t){var e=this;t.preventDefault(),this.axios.post(this.$API+"/articles/"+this.$route.params.id+"/vote",{title:this.articleLock.title,description:this.articleLock.description,dueDate:this.articleLock.dueDate}).then((function(t){window.console.log(">>CA Vote > opened vote succesfully.",t),e.$emit("updated"),e.$store.commit("alertSuccess","Succesfully opened the vote.")})).catch((function(t){window.console.log(">>CA Vote > Error.",t),e.$store.commit("alertError","Could not open the vote.")}))}},mounted:function(){window.console.log("CAVote Mounted",this.article)}},Dt=kt,Rt=(a("b3cd"),Object(g["a"])(Dt,xt,It,!1,null,"7c2384d3",null)),Tt=Rt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Voting seal")]),a("b-button",{staticClass:"float-right tool-button ",on:{click:t.verifyVoteAndShowModal}},[a("p",{},[t._v("Verify vote"),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_magnifying_glass.svg"}})])])],1)]),a("b-card",{staticClass:"seal",staticStyle:{"min-width":"20rem"},attrs:{"no-body":"","header-border-variant":"light","border-variant":"","header-bg-variant":"","header-text-variant":"",align:"left"}},[a("div",{staticClass:"mt-2"},[t._v(" Result "),a("h4",{},[t._v("Article "),a("b",[t._v(t._s(t.article.title))]),t._v(" was "+t._s(t.voteOutcome)+" on "+t._s(t.formatDate(t.article.lock.updatedAt))+" ")])]),a("hr"),a("table",{staticClass:"my-3"},[a("tr",{attrs:{width:"100%"}},[a("td",{staticClass:"bg-success overflow-hidden",staticStyle:{"text-align":"center",color:"white"},attrs:{width:t.acceptPercentage,height:"40px"}},[t.showAcceptPercentage?a("div",[t._v(t._s(t.acceptPercentage)+" ")]):t._e()]),a("td",{staticClass:"bg-danger overflow-hidden",staticStyle:{"text-align":"center",color:"white"},attrs:{width:t.rejectPercentage}},[t.showRejectPercentage?a("div",[t._v(t._s(t.rejectPercentage))]):t._e()]),a("td",{staticClass:"bg-light overflow-hidden",staticStyle:{"text-align":"center"}},[t.showWithheldPercentage?a("div",[t._v(t._s(t.withheldPercentage))]):t._e()])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._v(" Accept "),a("h4",[t._v(t._s(t.article.lock.tallyOutcome.yay))])]),a("div",{staticClass:"col"},[t._v(" Reject "),a("h4",[t._v(t._s(t.article.lock.tallyOutcome.nay))])]),a("div",{staticClass:"col"},[t._v(" Withheld"),a("h4",[t._v(t._s(t.article.lock.tallyOutcome.withheld))])])]),a("hr"),a("div",{staticClass:"row my-1"},[a("div",{staticClass:"col"},[t._v(" No. ballots "+t._s(t.article.lock.tallyOutcome.ballotsIssued)+" ")]),a("div",{staticClass:"col float-right",staticStyle:{"text-align":"right"}},[t._v(" Turnout "+t._s(t.getTurnout)+" ")])]),a("div",{attrs:{id:"dayCounter"}})]),a("b-modal",{attrs:{id:"modal-center-verify",centered:"",title:"verify vote",size:"xl"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=(e.cancel,e.hide);return[a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){i(),r()}}},[t._v(" OK ")])]}}])},[a("p",[t._v("Vote verification info")])])],1)},Mt=[],$t=(a("acd8"),{name:"CAOutcome",props:["article"],data:function(){return{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},computed:{voteOutcome:function(){return this.article.lock.finalStatus==V.a.ARTICLE_STATUS_REJECTED?"rejected":"adopted"},acceptPercentage:function(){var t=this.article.lock.tallyOutcome.yay+this.article.lock.tallyOutcome.nay+this.article.lock.tallyOutcome.withheld,e=Math.round(this.article.lock.tallyOutcome.yay/t*100);return e+"%"},rejectPercentage:function(){var t=this.article.lock.tallyOutcome.yay+this.article.lock.tallyOutcome.nay+this.article.lock.tallyOutcome.withheld,e=Math.round(this.article.lock.tallyOutcome.nay/t*100);return e+"%"},withheldPercentage:function(){var t=this.article.lock.tallyOutcome.yay+this.article.lock.tallyOutcome.nay+this.article.lock.tallyOutcome.withheld,e=Math.round(this.article.lock.tallyOutcome.withheld/t*100);return e+"%"},getTurnout:function(){var t=this.article.lock.tallyOutcome.yay+this.article.lock.tallyOutcome.nay+this.article.lock.tallyOutcome.withheld,e=Math.round(t/this.article.lock.tallyOutcome.ballotsIssued*100);return e+"%"},showAcceptPercentage:function(){return parseFloat(this.acceptPercentage)>1},showRejectPercentage:function(){return parseFloat(this.rejectPercentage)>1},showWithheldPercentage:function(){return parseFloat(this.withheldPercentage)>1}},methods:{formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},verifyVoteAndShowModal:function(){this.$bvModal.show("modal-center-verify")}},mounted:function(){}}),Ot=$t,Lt=Object(g["a"])(Ot,Pt,Mt,!1,null,"f7676890",null),jt=Lt.exports,Ut=[{value:null,text:"Please select an option",disabled:!0},{text:"Admin",value:V.a.USER_PRIVILEGE_ADMIN},{text:"Founder",value:V.a.USER_PRIVILEGE_FOUNDER},{text:"Board",value:V.a.USER_PRIVILEGE_BOARD},{text:"Member",value:V.a.USER_PRIVILEGE_MEMBER},{text:"Coach",value:V.a.USER_PRIVILEGE_COACH},{text:"Partner",value:V.a.USER_PRIVILEGE_PARTNER},{text:"Financier",value:V.a.USER_PRIVILEGE_FINANCIER},{text:"Applying for membership",value:V.a.USER_PRIVILEGE_APPLICANT_MEMBER},{text:"Applying to become coach",value:V.a.USER_PRIVILEGE_APPLICANT_COACH},{text:"Applying for partnership",value:V.a.USER_PRIVILEGE_APPLICANT_PARTNER},{text:"Aspirant",value:V.a.USER_PRIVILEGE_ASPIRANT},{text:"Visitor",value:V.a.USER_PRIVILEGE_VISITOR}],Vt={name:"CAMember",props:{CABallot:St,CAVote:Tt,CAOutcome:jt},data:function(){return{username:"",email:"",image:"",description:"",privilege:-1,selected:null,options:Ut,createdAt:"",breadcrumbItems:[{text:"Community",to:"/members"},{text:"member",active:!0}],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},computed:{isAllowed:function(){return this.$store.state.privilege>=8},privilegeLabel:function(){var t=this,e=B.a.find(Ut,(function(e){return e.value==t.privilege})).text;return e}},mounted:function(){var t=this;this.axios.get(this.$API+"/users/"+this.$route.params.id).then((function(e){t.username=e.data.username,t.privilege=e.data.privilege,t.id=e.data._id,t.privilege=Ut.find((function(e){return e.value==t.privilege})).value,t.createdAt=e.data.createdAt,t.email=e.data.email,t.image=e.data.profileImg,t.description=e.data.description})).catch((function(t){window.console.log(t)}))},methods:{onSubmit:function(t){t.preventDefault(),this.axios.put(this.$API+"/users/"+this.id,{privilege:this.privilege}).then(this.onSuccess).catch(this.onFailure)},onSuccess:function(t){window.console.log("success",t),this.$store.commit("alertSuccess","Member succesfully adjusted")},onFailure:function(t){window.console.log("fail",t),this.$store.commit("alertError","Could not adjust privilege")},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},profileImg:function(){return this.pathToImage(this.$store.state.profileImg)},pathToImage:function(t){var e=this.$API.replace("api","");return t?e+t:e+"uploads/images/defaultUser.png"},generateBgImage:function(t){return"background-image: url('".concat(this.pathToImage(t),"')")},generateMail:function(){return"mailto: "+this.email}}},Nt=Vt,Ft=(a("6c46"),Object(g["a"])(Nt,bt,yt,!1,null,"322d23a9",null)),Gt=Ft.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row my-3 "},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Categories")]),t.isAuthorized?a("b-button",{staticClass:"float-right tool-button ",attrs:{to:"category/new"}},[a("p",{},[t._v("New category "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_plus_sign.svg"}})])]):t._e()],1)]),t._v(" "+t._s(t.error)+" "),a("CARequestError",{attrs:{error:t.error}}),a("div",{staticClass:"mb-5"},[a("b-card-group",{attrs:{columns:""}},t._l(t.categories,(function(e){return a("b-card",{key:e.key,staticClass:"overflow-hidden text-white",style:t.getColorStyle(e),attrs:{"header-bg-variant":"transparent","header-border-variant":"light","no-body":""},on:{click:function(a){return t.showCategory(e)}}},[a("div",{staticClass:"card-content category-card"},[a("b-card-title",[t._v(" "+t._s(e.title)+" ")]),a("b-card-text",[t._v(" "+t._s(e.description)),a("br")])],1)])})),1)],1),a("CAMilestones")],1)},zt=[],Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-10"},[a("div",[a("div",{staticClass:"row my-3 "},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Milestones")]),t.isAuthorized?a("b-button",{staticClass:"float-right tool-button ",attrs:{to:"milestone/new"}},[a("p",{},[t._v("New milestone "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_plus_sign.svg"}})])]):t._e()],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-button-toolbar",{staticClass:"float-right",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[a("b-button-group",{staticClass:"float-right"},[a("b-button",{staticClass:"tool-button",on:{click:function(e){return t.decrementMonth()}}},[a("img",{staticClass:"tool-button-icon ",attrs:{src:"/img/icon_arrow_left.svg"}})])],1),a("b-button-group",{staticStyle:{display:"flex","align-items":"baseline"}},[a("b-form-select",{attrs:{options:t.options},on:{change:function(e){return t.filterListOfMilestones()}},model:{value:t.selectedMonth,callback:function(e){t.selectedMonth=e},expression:"selectedMonth"}}),a("div",{staticClass:"ml-1"},[t._v(t._s(t.selectedYear))])],1),a("b-button-group",{},[a("b-button",{staticClass:"tool-button",on:{click:function(e){return t.incrementMonth()}}},[a("img",{staticClass:"tool-button-icon ",attrs:{src:"/img/icon_arrow_right.svg"}})])],1)],1)],1)]),a("div",{staticClass:"tbLine my-3"},[t.orderedFilteredMilestones.length?a("div",t._l(t.orderedFilteredMilestones,(function(e){return a("div",{key:e.key,staticClass:"row my-0 vline ",staticStyle:{display:"flex","align-items":"baseline"},on:{click:function(a){return t.showMilestones(e)}}},[t.hasUniqueDate(e)?a("div",{staticClass:"col-3 "},[a("h4",{staticClass:"text-blue",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[t._v(" "+t._s(t.formatDate(e.dueDate))+" ")])]):a("div",{staticClass:"col-3 "}),a("div",{staticClass:"col-1  ",staticStyle:{display:"flex","justify-content":"center"}},[a("div",[t.hasUniqueDate(e)?a("div",{staticClass:"bullet"}):t._e()])]),a("div",{staticClass:"col-8 my-3"},[a("b-card",{staticClass:"pb-1",attrs:{"no-body":""}},[a("b-card-title",{staticClass:"mt-1"},[t._v(" "+t._s(e.title)+" ")]),a("b-card-text",{staticClass:"mb-2"},[t._v(" "+t._s(e.description)+" ")]),e.articles.length?a("div",[a("hr"),t._l(e.articles,(function(e){return a("div",{key:e.key,staticClass:"my-3",on:{click:function(a){return t.showArticle(e)}}},[a("b-card",{staticClass:"py-2",staticStyle:{width:"100%"},attrs:{"bg-variant":"light","no-body":""}},[a("div",[a("div",{staticClass:"float-right"},[t.isDraft(e)?a("p",[a("b-badge",{attrs:{pill:"",variant:"secondary"}},[t._v("Draft")])],1):t._e(),t.isUnderVote(e)?a("p",[a("b-badge",{attrs:{pill:"",variant:"warning"}},[t._v("In vote")])],1):t._e(),t.isAdopted(e)?a("p",[a("b-badge",{attrs:{pill:"",variant:"success"}},[t._v("Adopted")])],1):t._e(),t.isRejected(e)?a("p",[a("b-badge",{attrs:{pill:"",variant:"danger"}},[t._v("Rejected")])],1):t._e()]),a("p",[t._v(t._s(e.title)+" ")])])])],1)}))],2):t._e()],1)],1)])})),0):t._e(),t.orderedFilteredMilestones.length?t._e():a("div",{staticClass:"text-center py-5 text-secondary"},[a("h4",[t._v("There are no milestones set for this month")])])])])])},Kt=[],Yt={name:"CAMilestones",props:{},data:function(){return{fields:["title"],milestones:[],filteredMilestones:[],orderedFilteredMilestones:[],uniqueFilteredMilestones:[],newMilestoneTitle:"",newMilestoneDescription:"",error:null,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],today:"",selectedYear:2020,selectedMonth:0,options:[{value:0,text:"January"},{value:1,text:"February"},{value:2,text:"March"},{value:3,text:"April"},{value:4,text:"May"},{value:5,text:"June"},{value:6,text:"July"},{value:7,text:"August"},{value:8,text:"September"},{value:9,text:"October"},{value:10,text:"November"},{value:11,text:"December"}]}},computed:{isAuthorized:function(){var t=V.a.USER_PRIVILEGE_BOARD;return this.$store.state.privilege>=t},rows:function(){return this.items.length}},mounted:function(){var t=this;this.today=new Date,this.renderListOfMilestones().then((function(){t.selectedMonth=t.today.getMonth(),t.selectedYear=t.today.getFullYear(),t.filterListOfMilestones()})).catch((function(e){window.console.log(">>CAMilestones > trace error",e,JSON.stringify(e)),t.error=e}))},methods:{renderListOfMilestones:function(){var t=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.axios.get(this.$API+"/milestones/").then((function(e){window.console.log(">>CAMilestones > get list",e.data),t.milestones=e.data})).catch((function(e){window.console.log(">>CAMilestones > trace error",e,JSON.stringify(e)),t.error=e})));case 1:case"end":return e.stop()}}),null,this)},filterListOfMilestones:function(){var t=a("2ef0"),e=this.selectedMonth;this.filteredMilestones=t.filter(this.milestones,(function(t){return new Date(t.dueDate).getMonth()==e})),this.orderListOfMilestones()},orderListOfMilestones:function(){var t=a("2ef0");this.orderedFilteredMilestones=t.sortBy(this.filteredMilestones,[function(t){return t.dueDate}]),window.console.log("ordered milestones",this.orderedFilteredMilestones),this.removeDuplicateDates()},removeDuplicateDates:function(){var t=a("2ef0");this.uniqueFilteredMilestones=t.uniqBy(this.orderedFilteredMilestones,"dueDate")},showMilestones:function(t){this.$router.push({name:"milestone",params:{id:t._id}})},deleteMilestone:function(t){var e=this;window.confirm("are you sure you want to delete milestone: "+t.title+"?\n\n Note: associated articles are not deleted. ")&&this.axios.delete(this.$API+"/milestones/"+t._id).then((function(){e.renderListOfMilestones(),e.$store.commit("alertSuccess","Removed milestone "+t.title)})).catch((function(t){e.$store.commit("alertError","milestone could not be deleted"),window.console.log(t)}))},createNewMilestone:function(t){var e=this;this.axios.post(this.$API+"/milestones/",{title:this.newMilestoneTitle,description:this.newMilestoneDescription}).then((function(){e.$bvModal.hide("modal-new-milestone"),e.renderListOfCategories()})).catch((function(t){window.console.log(t),e.$bvModal.hide("modal-new-milestone"),e.$store.commit("alertError","Please provide a title and description.")})),t.preventDefault()},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},decrementMonth:function(){0==this.selectedMonth&&this.selectedYear--,this.selectedMonth--,this.selectedMonth=(this.selectedMonth+12)%12,this.filterListOfMilestones()},incrementMonth:function(){11==this.selectedMonth&&this.selectedYear++,this.selectedMonth++,this.selectedMonth=this.selectedMonth%12,this.filterListOfMilestones()},hasUniqueDate:function(t){for(var e=this.uniqueFilteredMilestones.length-1;e>=0;e--)if(this.uniqueFilteredMilestones[e]._id==t._id)return!0;return!1},isDraft:function(t){return t.status==V.a.ARTICLE_STATUS_DRAFT},isUnderVote:function(t){return t.status==V.a.ARTICLE_STATUS_PENDING},isAdopted:function(t){return t.status==V.a.ARTICLE_STATUS_ADOPTED},isRejected:function(t){return t.status==V.a.ARTICLE_STATUS_REJECTED}}},Wt=Yt,qt=(a("4334"),Object(g["a"])(Wt,Jt,Kt,!1,null,"210ce8e6",null)),Ht=qt.exports,Zt={name:"CACategories",components:{CARequestError:ot,CAMilestones:Ht},props:{},data:function(){return{fields:["title"],categories:[],newCategoryTitle:"",newCategoryDescription:"",newCategoryImage:"",error:null,color:"",milestonesVue:null,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},computed:{isAuthorized:function(){var t=V.a.USER_PRIVILEGE_BOARD;return this.$store.state.privilege>=t},rows:function(){return this.items.length}},created:function(){this.renderListOfCategories()},methods:{renderListOfCategories:function(){var t=this;this.axios.get(this.$API+"/categories/").then((function(e){t.categories=e.data})).catch((function(e){window.console.log(">>CACategories > trace error",e,JSON.stringify(e)),t.error=e}))},showCategory:function(t){this.$router.push({name:"category",params:{id:t._id}})},deleteCategory:function(t){var e=this;window.confirm("are you sure you want to delete category: "+t.title+"?\n\n Note: associated articles are not deleted, but may become hard to retreive. ")&&this.axios.delete(this.$API+"/categories/"+t._id).then((function(){e.renderListOfCategories(),e.$store.commit("alertSuccess","Removed category "+t.title)})).catch((function(t){e.$store.commit("alertError","Category could not be deleted"),window.console.log(t)}))},createNewCategory:function(t){var e=this;this.axios.post(this.$API+"/categories/",{title:this.newCategoryTitle,description:this.newCategoryDescription}).then((function(){e.$bvModal.hide("modal-new-category"),e.renderListOfCategories()})).catch((function(t){window.console.log(t),e.$bvModal.hide("modal-new-category"),e.$store.commit("alertError","Please provide a title and description.")})),t.preventDefault()},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},removeImage:function(){this.newCategoryImage=""},pathToImage:function(t){var e=this.$API.replace("api","");return e+t},generateBgImage:function(t){return"background-image: url('".concat(this.pathToImage(t),"')")},getColorStyle:function(t){var e=t.color||"#cfcfce";return"background-color: "+e}}},Qt=Zt,Xt=(a("de4a"),Object(g["a"])(Qt,Bt,zt,!1,null,"ddd62abe",null)),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"overflow-hidden text-white mb-4",style:t.getColorStyle(),attrs:{"no-body":""}},[a("div",{staticClass:"card-content category-header"},[a("b-card-title",[a("div",{staticClass:"row"},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("div",[t._v(t._s(t.title))]),t.isAuthorized?a("b-button",{staticClass:"float-right tool-button text-white ",staticStyle:{"padding-right":"0"},attrs:{to:{name:"editCategory",params:{id:t.id}}}},[a("p",{},[t._v("Edit category "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_pencil_white.svg"}})])]):t._e()],1)])]),a("b-card-text",[t._v(" "+t._s(t.description)),a("br")])],1)]),a("div",{staticClass:"row mt-5 mb-3"},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Articles")]),t.isAuthorized?a("b-button",{staticClass:"float-right tool-button ",on:{click:t.newArticle}},[a("p",{},[t._v("New article "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_plus_sign.svg"}})])]):t._e()],1)]),a("div",[a("b-card-group",{attrs:{columns:""}},t._l(t._articles,(function(e){return a("b-card",{key:e.key,staticClass:"overflow-hidden",attrs:{"header-bg-variant":"transparent","header-border-variant":"light","no-body":""},on:{click:function(a){return t.gotoArticle(e)}}},[a("div",{staticClass:"card-content article-card"},[a("div",{staticClass:"mt-2"},[t._v(" "+t._s(t.formatDate(e.createdAt))+" "),t.isDraft(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"secondary"}},[t._v("Draft")])],1):t._e(),t.isUnderVote(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"warning"}},[t._v("In vote")])],1):t._e(),t.isAdopted(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"success"}},[t._v("Adopted")])],1):t._e(),t.isRejected(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"danger"}},[t._v("Rejected")])],1):t._e()]),a("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end"}},[a("b-card-title",{staticClass:"overflow-hidden ",staticStyle:{"max-height":"6rem"}},[t._v(" "+t._s(e.title)+" ")]),a("div",[a("hr")]),a("b-card-text",{staticClass:"overflow-hidden; mb-3 mt-2",staticStyle:{"min-height":"8rem","max-height":"8rem"}},[t._v(" "+t._s(e.description)+" ")])],1)])])})),1)],1)],1)},ae=[];String.prototype.trunc=String.prototype.trunc||function(t){return this.length>t?this.substr(0,t-1)+" …":this};var ie={name:"CACategory",data:function(){return{title:"",image:"",description:"",fields:["title"],articles:[],color:"",id:"",breadcrumbItems:[{text:"Project",to:"/categories"},{text:"loading...",active:!0}],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},computed:{isAuthorized:function(){var t=V.a.USER_PRIVILEGE_BOARD;return this.$store.state.privilege>=t},_articles:function(){return this.articles.map((function(t){return{title:t.title.trunc(44),description:t.description.trunc(120),id:t.id,createdAt:t.createdAt,lock:t.lock,lockDueDate:t.lockDueDate,status:t.status}}))}},created:function(){var t=this;this.axios.get(this.$API+"/articles/?category="+this.$route.params.id).then((function(e){window.console.log(">> CACategory > requested articles: ",e.data),t.articles=e.data})),this.axios.get(this.$API+"/categories/"+this.$route.params.id).then((function(e){window.console.log(">> CACategory > category: ",e.data),t.title=e.data.title,t.description=e.data.description,t.image=e.data.image,t.breadcrumbItems[1].text=t.title,t.color=e.data.color,t.id=t.$route.params.id}))},methods:{gotoArticle:function(t){this.$router.push({name:"article",params:{id:t.id}})},newArticle:function(){this.$router.push({name:"newArticle",params:{category:this.$route.params.id}})},isDraft:function(t){return t.status==V.a.ARTICLE_STATUS_DRAFT},isUnderVote:function(t){return t.status==V.a.ARTICLE_STATUS_PENDING},isAdopted:function(t){return t.status==V.a.ARTICLE_STATUS_ADOPTED},isRejected:function(t){return t.status==V.a.ARTICLE_STATUS_REJECTED},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},pathToImage:function(){var t=this.$API.replace("api","");return t+this.image},generateBgImage:function(){return"background-image: url('".concat(this.pathToImage(),"')")},getColorStyle:function(){var t=this.color||"#cfcfce";return"background-color: "+t}}},re=ie,se=(a("62bd"),Object(g["a"])(re,ee,ae,!1,null,"81c1d730",null)),oe=se.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col col-12"},[a("div",{staticClass:" mt-3 mb-3"},[t.id?a("h1",{staticClass:"display-4 "},[t._v("Edit category")]):t._e(),t.id?t._e():a("h1",{staticClass:"display-4 "},[t._v("New category")])]),a("b-form",{staticClass:"form-horizontal",attrs:{method:"POST",enctype:"multipart/form-data"},on:{submit:t.checkForm}},[a("b-card",{staticClass:"mb-4",style:t.getColorStyle(),attrs:{"no-body":""}},[a("div",{staticClass:"card-content text-white "},[a("div",[a("label",{staticClass:"control-label text-white-50",attrs:{for:"lockTitle"}},[t._v("Title")]),a("b-form-group",[a("b-form-input",{staticClass:"h4 form-text-edit bottom-line-white ",attrs:{id:"title",type:"text"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),a("b-card-text",[a("b-form-group",[a("label",{staticClass:"control-label text-white-50",attrs:{for:"lockTitle"}},[t._v("Description")]),a("b-form-textarea",{staticClass:"form-control bottom-line-white",attrs:{rows:"2",id:"description",name:"description","no-resize":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("div",[a("div",{staticClass:"control-label text-white-50 mt-2",attrs:{for:"lockTitle"}},[t._v("Color")]),a("b-button-group",{staticClass:"mb-3"},[a("b-button",{staticClass:"color-button",staticStyle:{"background-color":"#ff7a93"},on:{click:function(e){return t.setColor("#ff7a93")}}}),a("b-button",{staticClass:"color-button",staticStyle:{"background-color":"#0055ff"},on:{click:function(e){return t.setColor("#0055ff")}}}),a("b-button",{staticClass:"color-button",staticStyle:{"background-color":"#00bd8e"},on:{click:function(e){return t.setColor("#00bd8e")}}}),a("b-button",{staticClass:"color-button",staticStyle:{"background-color":"#ff8763"},on:{click:function(e){return t.setColor("#ff8763")}}}),a("b-button",{staticClass:"color-button",staticStyle:{"background-color":"#00bfcc"},on:{click:function(e){return t.setColor("#00bfcc")}}}),a("b-button",{staticClass:"color-button",staticStyle:{"background-color":"#614ac4"},on:{click:function(e){return t.setColor("#614ac4")}}})],1)],1)],1)],1)]),t.id?a("div",{staticClass:"row my-2"},[a("div",{staticClass:"col"},[a("b-button",{staticClass:"float-md-right tool-button",on:{click:function(e){return t.$bvModal.show("modal-delete-category")}}},[a("p",{},[t._v("Delete category "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_x.svg"}})])])],1)]):t._e(),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("b-button",{staticClass:"big-button display-4 my-4",attrs:{type:"submit",id:"Submit",name:"Submit"}},[t._v("Save category")])],1)],1),a("b-modal",{attrs:{id:"modal-delete-category",centered:"",title:"Are you sure you want to delete this category?"},on:{ok:t.deleteCategory},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel,s=e.hide;return[a("b-button",{attrs:{size:"md",variant:"outline-secondary"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{attrs:{size:"md",variant:"danger"},on:{click:function(t){i(),s()}}},[t._v(" Delete category ")])]}}])},[a("p",[t._v("You are about to delete category "),a("b",[t._v(t._s(t.title))]),t._v(". This cannot be undone.")])])],1)},le=[],ce={components:{},props:{id:Number},data:function(){return{errors:[],notifications:[],title:"",description:"",category:null,image:null,color:""}},mounted:function(){var t=this;this.category=this.$route.params.category||null,this.id=this.$route.params.id||null,this.id&&this.axios.get(this.$API+"/categories/"+this.id).then((function(e){window.console.log(e.data),t.title=e.data.title,t.description=e.data.description,t.color=e.data.color,t.image=e.data.image})).catch((function(e){t.errors.push(e)}))},methods:{checkForm:function(t){return this.errors=[],this.title&&this.description&&this.id?(this.updateCategory(),void t.preventDefault()):this.title&&this.description?(this.createCategory(),void t.preventDefault()):(this.title||this.errors.push("Title required."),this.description||this.errors.push("Description required."),void t.preventDefault())},createCategory:function(){var t=this;this.notifications=[],this.errors=[];var e=new FormData;e.append("title",this.title),e.append("description",this.description),e.append("color",this.color),window.console.log(">> CAEditCategory > before upload >",e),this.axios.post(this.$API+"/categories",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){window.console.log(e.data),t.$router.push({name:"category",params:{id:e.data._id}})})).catch((function(e){t.errors.push(e)}))},updateCategory:function(){var t=this;this.notifications=[],this.errors=[],this.axios.put(this.$API+"/categories/"+this.id,{title:this.title,description:this.description,color:this.color}).then((function(e){window.console.log(e.data),t.$router.push({name:"category",params:{id:e.data._id}})})).catch((function(e){t.errors.push(e)}))},deleteCategory:function(){var t=this;this.axios.delete(this.$API+"/categories/"+this.id).then((function(){t.$store.commit("alertSuccess","Removed category "+t.title),t.$router.push({name:"categories",params:{}})})).catch((function(e){t.$store.commit("alertError","Category could not be deleted"),window.console.log(e)}))},getColorStyle:function(){return window.console.log("CAEditCategory getColorStyle color: ",this.color),this.color?"background-color: "+this.color:(this.color="#ff8763","background-color: "+this.color)},setColor:function(t){this.color=t}}},ue=ce,de=(a("f34d"),Object(g["a"])(ue,ne,le,!1,null,"012e00d0",null)),pe=de.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-10"},[a("div",[a("div",{staticClass:"row my-3 "},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Article")]),t.articleStatusDraft?a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[t.isAuthorized?a("b-button",{staticClass:"float-right tool-button ",attrs:{to:{name:"editArticle",params:{id:t.article._id}}}},[a("p",{},[t._v("Edit article"),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_pencil_black.svg"}})])]):t._e()],1):t._e(),t.articleStatusPending?a("div",{staticClass:"float-right"},[a("p",{staticClass:"text-grey"},[t._v("Article locked and under vote")])]):t._e(),t.articleStatusClosed?a("div",{staticClass:"float-right"},[a("p",{staticClass:"text-grey"},[t._v("Article locked")])]):t._e()])]),a("b-card",{staticClass:"overflow-hidden",attrs:{"header-bg-variant":"transparent","header-border-variant":"light","no-body":""}},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"mt-2"},[t._v(" "+t._s(t.formatDate(t.article.createdAt))+" "),t.articleStatusDraft?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"secondary"}},[t._v("Draft")])],1):t._e(),t.articleStatusPending?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"warning"}},[t._v("In vote")])],1):t._e(),t.articleStatusAdopted?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"success"}},[t._v("Adopted")])],1):t._e(),t.articleStatusRejected?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"danger"}},[t._v("Rejected")])],1):t._e()]),a("div",{staticClass:"mt-3",staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end"}},[a("b-card-title",{staticClass:"overflow-hidden "},[a("h3",[t._v(t._s(t.article.title))])]),a("div",[a("hr")]),a("b-card-text",{staticClass:"overflow-hidden; mb-3 mt-2 text-prewrap",staticStyle:{}},[t._v(" "+t._s(t.article.description)+" ")]),a("div",[a("hr")]),a("div",{staticClass:"mt-2 mb-2"},[a("span",{staticClass:"float-right"},[t._v("Updated on "+t._s(t.formatDate(t.article.updatedAt)))]),a("p",[a("b-badge",{style:t.getColorStyle()},[t._v(t._s(t.article.category.title))])],1)])],1)])]),a("div",{staticClass:"row my-2"},[t.articleStatusDraft?a("div",{staticClass:"col"},[t.isAuthorized?a("b-button",{staticClass:"float-md-right tool-button",on:{click:function(e){return t.$bvModal.show("modal-delete-article")}}},[a("p",{},[t._v("Delete article "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_x.svg"}})])]):t._e()],1):t._e()])],1),a("div",{staticClass:"row justify-content-left"},[a("div",{staticClass:"col-8 mb-5"},[t.articleStatusDraft?a("CAVote",{key:t.forceUpdateOnLock,attrs:{article:t.article},on:{updated:t.onArticleUpdate}}):t._e()],1)]),a("div",{staticClass:"row justify-content-left"},[a("div",{staticClass:"col-8 mb-5"},[t.articleStatusPending?a("CABallot",{key:t.forceUpdateOnLock,attrs:{article:t.article},on:{updated:t.onArticleUpdate}}):t._e()],1)]),a("div",{staticClass:"row justify-content-left"},[a("div",{staticClass:"col-8 mb-5"},[t.articleStatusClosed?a("CAOutcome",{key:t.forceUpdateOnLock,attrs:{article:t.article},on:{updated:t.onArticleUpdate}}):t._e()],1)]),a("b-modal",{attrs:{id:"modal-delete-article",centered:"",title:"Are you sure you want to delete this article?"},on:{ok:t.deleteArticle},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel,s=e.hide;return[a("b-button",{attrs:{size:"md",variant:"outline-secondary"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{attrs:{size:"md",variant:"danger"},on:{click:function(t){i(),s()}}},[t._v(" Delete article ")])]}}])},[a("p",[t._v("You are about to delete article "),a("b",[t._v(t._s(t.article.title))]),t._v(". This cannot be undone.")])])],1)])},he=[],fe={name:"CAArticle",components:{CABallot:St,CAVote:Tt,CAOutcome:jt},data:function(){return{article:{},breadcrumbItems:[{text:"Project",to:"/categories"},{text:"loading",to:"loading"},{text:"article",active:!0}],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},computed:{articleStatusDraft:function(){return this.article.status==V.a.ARTICLE_STATUS_DRAFT},articleStatusPending:function(){return this.article.status==V.a.ARTICLE_STATUS_PENDING},articleStatusRejected:function(){return this.article.status==V.a.ARTICLE_STATUS_REJECTED},articleStatusAdopted:function(){return this.article.status==V.a.ARTICLE_STATUS_ADOPTED},articleStatusClosed:function(){return this.article.status==V.a.ARTICLE_STATUS_ADOPTED||this.article.status==V.a.ARTICLE_STATUS_REJECTED},forceUpdateOnLock:function(){return this.article.lock?this.article.lock._id:this.article._id},isAuthorized:function(){var t=V.a.USER_PRIVILEGE_BOARD;return this.$store.state.privilege>=t}},methods:{update:function(){var t=this;this.axios.get(this.$API+"/articles/"+this.$route.params.id).then((function(e){window.console.log(">>CAArticle > got some data : ",e),t.article=e.data,e.data.category&&(t.breadcrumbItems[1].text=e.data.category.title,t.breadcrumbItems[1].to="/category/"+e.data.category._id)}))},onArticleUpdate:function(){window.console.log(">>CAArticle > updated article"),this.update()},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},deleteArticle:function(){var t=this;window.console.log("CAArticle delete article"),this.axios.delete(this.$API+/articles/+this.$route.params.id).then((function(e){window.console.log(">>CAArticle > deleted article : ",e),t.$store.commit("alertSuccess","The article was succesfully deleted"),t.$router.push({name:"category",params:{id:e.data.category}})})).catch(this.$store.commit("alertwarning","The article could not be deleted"))},getColorStyle:function(){return"background-color: "+this.article.category.color}},created:function(){this.update()}},ge=fe,ve=Object(g["a"])(ge,me,he,!1,null,"1dcae819",null),be=ve.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col col-10"},[a("div",{staticClass:"row my-3 "},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Edit article")]),t.id?a("b-button",{staticClass:"float-right tool-button ",on:{click:function(e){return t.$bvModal.show("modal-delete-article")}}},[a("p",{},[t._v("Delete article "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_x.svg"}})])]):t._e()],1)]),t.errors.length?a("b",[a("b",[t._v("Please correct the following error(s)")]),t._l(t.errors,(function(e){return a("div",{key:e.id,staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._v(" "+t._s(e)+" ")])}))],2):t._e(),t.notifications.length?a("b",t._l(t.notifications,(function(e){return a("div",{key:e.id,staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(e)+" ")])})),0):t._e(),a("b-form",{staticClass:"form-horizontal",attrs:{action:"",method:"POST"},on:{submit:t.checkForm}},[a("b-card",{staticClass:"overflow-hidden",attrs:{"header-bg-variant":"transparent","header-border-variant":"light","no-body":""}},[a("div",{staticClass:"card-content"},[t.id?a("div",{staticClass:"mt-2"},[t._v(" First created "+t._s(t.formatDate(t.createdAt))+" ")]):t._e(),t.id?t._e():a("div",{staticClass:"mt-2"},[t._v(" First created "+t._s(t.formatDate(t.todaysDate))+" ")]),a("hr"),a("div",{staticClass:"mt-2",staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end"}},[a("b-form-group",{attrs:{id:"fieldset-horizontal",description:""}},[a("label",{staticClass:"control-label text-light-grey",attrs:{for:"lockTitle"}},[t._v("Title")]),a("b-form-input",{staticClass:"h4 form-text-edit bottom-line",attrs:{id:"title",rows:"1","no-resize":""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("div"),a("b-card-text",{staticClass:"overflow-hidden; mb-3 mt-2",staticStyle:{}},[a("b-form-group",{attrs:{id:"fieldset-horizontal"}},[a("label",{staticClass:"control-label text-light-grey",attrs:{for:"lockTitle"}},[t._v("Description")]),a("b-form-textarea",{staticClass:"form-control form-text-edit bottom-line",attrs:{name:"description",rows:"8","max-rows":"32","no-resize":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),a("div"),a("div",{staticClass:"mt-2 mb-2"},[t.id?a("span",{staticClass:"float-right"},[t._v("Updated on "+t._s(t.formatDate(t.updatedAt)))]):t._e(),a("p",[a("b-badge",{style:t.getColorStyle()},[t._v(t._s(t.categoryTitle))])],1)])],1)])]),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("b-button",{staticClass:"big-button display-4 my-4",attrs:{type:"submit",id:"Submit",name:"Submit"},on:{click:t.checkFormAndShowModal}},[t._v("Save article")])],1)],1)],1),a("b-modal",{attrs:{id:"modal-delete-article",centered:"",title:"Are you sure you want to delete this article?"},on:{ok:t.deleteArticle},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel,s=e.hide;return[a("b-button",{attrs:{size:"md",variant:"outline-secondary"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{attrs:{size:"md",variant:"danger"},on:{click:function(t){i(),s()}}},[t._v(" Delete article ")])]}}])},[a("p",[t._v("You are about to delete article "),a("b",[t._v(t._s(t.title))]),t._v(". This cannot be undone.")])])],1)},_e=[],we={components:{},data:function(){return{errors:[],notifications:[],createdAt:"",updatedAt:"",title:"",description:"",id:null,categoryTitle:"",categoryObject:"",categoryColor:"",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},props:{category:Number},mounted:function(){var t=this;this.id=this.$route.params.id||null,this.id&&this.axios.get(this.$API+"/articles/"+this.id).then((function(e){window.console.log(e.data),t.title=e.data.title,t.description=e.data.description,t.id=e.data._id,t.category=e.data.category.id,t.categoryTitle=e.data.category.title,t.categoryColor=e.data.category.color,t.createdAt=e.data.createdAt,t.updatedAt=e.data.updatedAt,t.categoryObject=e.data.category})).catch((function(e){t.errors.push(e)})),this.axios.get(this.$API+"/categories/"+this.category).then((function(e){window.console.log("CAeditsrtaocle: get cat resp ",e.data),t.categoryTitle=e.data.title,t.categoryColor=e.data.color}))},computed:{todaysDate:function(){return new Date}},methods:{checkForm:function(t){return this.errors=[],this.title&&this.description&&this.id?(this.updateArticle(),void t.preventDefault()):this.title&&this.description?(this.createArticle(),void t.preventDefault()):(this.title||this.errors.push("Title required."),this.description||this.errors.push("Description required."),void t.preventDefault())},createArticle:function(){var t=this;this.notifications=[],this.errors=[],this.axios.post(this.$API+"/articles",{title:this.title,description:this.description,category:this.category}).then((function(e){window.console.log(e.data),t.$router.push({name:"article",params:{id:e.data._id}})})).catch((function(e){t.errors.push(e)}))},updateArticle:function(){var t=this;this.notifications=[],this.errors=[],this.axios.put(this.$API+"/articles/"+this.id,{title:this.title,description:this.description,category:this.category}).then((function(e){window.console.log(e.data),t.$router.push({name:"article",params:{id:e.data._id}})})).catch((function(e){t.errors.push(e)}))},deleteArticle:function(){var t=this;window.console.log("CAEditArticle delete article"),this.axios.delete(this.$API+/articles/+this.$route.params.id).then((function(e){window.console.log(">>CAEditArticle > deleted article : ",e),t.$store.commit("alertSuccess","The article was succesfully deleted"),t.$router.push({name:"category",params:{id:e.data.category}})})).catch(this.$store.commit("alertwarning","The article could not be deleted"))},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},getColorStyle:function(){return"background-color: "+this.categoryColor}}},Ce=we,Ae=Object(g["a"])(Ce,ye,_e,!1,null,"081bdfcb",null),Ee=Ae.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center my-5"},[t._m(0),a("div",{staticClass:"col-md-8"},[a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{id:"email-group",label:"Email","label-for":"email",description:"We'll never share your email with anyone else.","label-cols-sm":"4","label-cols-lg":"3"}},[a("b-form-input",{staticClass:"form-text-edit bottom-line",attrs:{id:"email",type:"email",required:"",placeholder:"Enter email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("b-form-group",{attrs:{id:"password-group",label:"Password","label-for":"password","label-cols-sm":"4","label-cols-lg":"3"}},[a("b-form-input",{staticClass:"form-text-edit bottom-line",attrs:{id:"password",type:"password",placeholder:"Enter password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"mb-5",staticStyle:{display:"flex","justify-content":"center"}},[a("b-button",{staticClass:"big-button display-4 my-4",attrs:{type:"submit"}},[t._v("Login")])],1),a("hr"),a("p",{staticClass:"text-muted"},[t._v("Or register here if you do not have a login yet.")]),a("b-button",{attrs:{variant:"outline-secondary",to:"register"}},[t._v("Register")])],1)],1)])},xe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-8 my-3"},[a("h1",{staticClass:"display-4"},[t._v("Login")])])}],Ie={name:"CALogin",props:{},data:function(){return{email:"",password:""}},computed:{},methods:{onSubmit:function(t){t.preventDefault(),this.axios.post(this.$API+"/users/login",{email:this.email,password:this.password}).then(this.onSuccess).catch(this.onFailure)},onSuccess:function(t){window.console.log(">> CALogin > logged in ",t.data),this.$store.commit("logIn",t.data),this.$router.push({name:"account"}),this.$store.commit("alertSuccess","Logged in succesfully")},onFailure:function(){window.console.log(">> CALogin > FAILED TO LOGIN"),this.$store.commit("logOut"),this.$store.commit("alertError","These are invalid credentials")}},mounted:function(){window.console.log(">> CALogin > am I logged in",this.$store.getters.loggedIn),this.$store.getters.loggedIn&&this.$router.push({name:"account"})}},ke=Ie,De=Object(g["a"])(ke,Se,xe,!1,null,"e4bca378",null),Re=De.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-md-10"},[t.privateKey?t._e():a("b-form",{on:{submit:t.onSubmitStep1}},[a("b-form-group",{attrs:{id:"username-group",label:"Username","label-for":"username",description:"","label-cols-sm":"4","label-cols-lg":"3"}},[a("b-form-input",{attrs:{id:"username",type:"text",required:"",placeholder:"Pick a username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("b-form-group",{attrs:{id:"email-group",label:"Email","label-for":"email","label-cols-sm":"4","label-cols-lg":"3"}},[a("b-form-input",{attrs:{id:"email",type:"email",required:"",placeholder:"Enter email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("b-form-group",{attrs:{id:"password-group",label:"Password","label-for":"password","label-cols-sm":"4","label-cols-lg":"3"}},[a("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Enter password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",[t.privateKey?t._e():a("b-alert",{attrs:{show:"",variant:"secondary"}},[a("h4",{staticClass:"alert-heading"},[t._v("Your actions on this platform need to be officially verified with a personal, secret key code.")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"explain-keys",expression:"'explain-keys'"}],staticClass:"float-right",attrs:{pill:"",variant:"outline-secondary"}},[t._v(" ? ")]),a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("Generate my secret key ")])],1)],1)],1),t.privateKey?a("b-form",{on:{submit:t.onSubmitStep1}},[a("b-form-group",{attrs:{id:"username-group",label:"Username","label-for":"username",description:"","label-cols-sm":"4","label-cols-lg":"3"}},[a("b-form-input",{attrs:{id:"username",type:"text",required:"",placeholder:"username",readonly:"",pattern:"^[A-Za-z_]\\\\w{7,29}$"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("b-form-group",{attrs:{id:"email-group",label:"Email","label-for":"email","label-cols-sm":"4","label-cols-lg":"3"}},[a("b-form-input",{attrs:{id:"email",type:"email",required:"",placeholder:"email",readonly:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("b-form-group",{attrs:{id:"password-group",label:"Password","label-for":"password","label-cols-sm":"4","label-cols-lg":"3"}},[a("b-form-input",{attrs:{id:"password",type:"password",placeholder:"password",required:"",readonly:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",[a("b-alert",{staticClass:"bg-warning",attrs:{show:"",variant:"warning"}},[a("h4",{staticClass:"alert-heading"},[t._v("Write down your secret key and keep it in a safe space")]),a("div",{staticClass:"bg-dark text-white p-4 my-3 text-wrap text-break"},[a("h4",[a("span",{domProps:{innerHTML:t._s(t._privateKey)}})])]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"explain-keys",expression:"'explain-keys'"}],staticClass:"float-right",attrs:{pill:"",variant:"outline-secondary"}},[t._v(" ? ")]),a("h4",{staticClass:"alert-heading"},[t._v("Without this key you cannot recover your registration ")])],1)],1)],1):t._e(),a("b-form",{on:{submit:t.onSubmitStep2}},[t.privateKey?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"registration-alert",expression:"'registration-alert'"}],attrs:{variant:"primary"}},[t._v("Register")]):t._e(),t.privateKey?t._e():a("b-button",{attrs:{variant:"secondary"}},[t._v("Register")])],1)],1),a("b-modal",{attrs:{id:"explain-keys",centered:"",title:"Keep your secret code safe",size:"xl",scrollable:""},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.hide;return[a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){i(),r()}}},[t._v(" I understand ")])]}}])},[a("p",[t._v(" Your profile on this platform contains all your official agreements with the cooperative. That’s why we will create a secret key code that you can use should something go wrong with your registration. You can then always restore your profile and all your votes on articles and other binding agreements. ")]),a("h5",[t._v("How to safely store my secret code")]),a("p",[t._v(" We recommend that you write your code down in on a piece of paper and put that in an envelope or a small box. Clearly label that container and keep it in a place where you would keep important documents like a will, passports or the deed to your house. It is equally important, since it represents your rights and duties within the cooperative. ")])]),a("b-modal",{attrs:{id:"registration-alert",centered:"",title:"Did you write down your secret code?",size:"xl",scrollable:""},scopedSlots:t._u([{key:"modal-footer",fn:function(e){e.ok;var i=e.cancel;e.hide;return[a("b-button",{attrs:{size:"md",variant:"outline-secondary"},on:{click:function(t){return i()}}},[t._v(" Take me back ")]),a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:t.onSubmitStep2}},[t._v(" I have written down my secret code, finish my registration ")])]}}])},[a("p",[t._v(" Without your secret code you will not be able to recover your account. This is your last chance to write it down properly. ")])])],1)},Pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12 my-5"},[a("h1",{},[t._v("Register")])])}],Me=a("2ef0"),$e={name:"CARegister",components:{},data:function(){return{email:"",password:"",username:"",publicKey:0,privateKey:0,user_id:0}},computed:{loggedIn:function(){return this.$store.getters.loggedIn},_privateKey:function(){var t,e=this.privateKey.substr(4),a=5,i=5,r=Me.chunk(e,a),s=[];for(s.push("<div class='container'>"),t=0;t<r.length;t++)t%i==0&&s.push("<div class='row'>"),s.push("<div class='col text-white border p-3 m-1 rounded-lg text-monospace letterspaced' style='letter-spacing: .1em'>"),s.push(r[t].join("")),s.push("</div>"),(t-i+1)%i==0&&s.push("</div>");s.push("</div>");var o=s.join("");return o}},methods:{onSubmitStep1:function(t){t.preventDefault(),window.console.log("onSubmitStep1"),this.axios.post(this.$API+"/users/register",{email:this.email,username:this.username,password:this.password}).then(this.onSuccessStep1).catch(this.onFailure)},onSuccessStep1:function(t){this.$store.commit("alertSuccess","Almost done; just one more step."),window.console.log("onSuccessStep1"),this.user_id=t.data.user_id,this.$CryptoWrapper.getAppCredentials(this.user_id).then(this.showAppCredentials)},showAppCredentials:function(t){window.console.log("onShowAppCred public key:",t),this.publicKey=t[this.user_id].keypair.public_key,window.console.log("onShowAppCred private key:"),this.privateKey=t[this.user_id].keypair.private_key},onSubmitStep2:function(t){t.preventDefault(),this.axios.put(this.$API+"/users/"+this.user_id,{publicKey:this.publicKey}).then(this.onSuccessStep2).catch(this.onFailure)},onSuccessStep2:function(t){this.$store.commit("alertSuccess","Registration complete!"),this.$store.commit("logIn",t.data),this.$router.push({name:"account"})},onFailure:function(t){window.console.log(">> CARegister > triggered error",t),this.$store.commit("alertError","Something went wrong"),this.$store.commit("logOut")}},mounted:function(){if(this.loggedIn)return this.$router.push({name:"profile"})}},Oe=$e,Le=(a("0a6e"),Object(g["a"])(Oe,Te,Pe,!1,null,"f59c90ac",null)),je=Le.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"justify-content-center  row"},[a("div",{staticClass:"col-10 "},[a("div",{staticClass:"row my-3 "},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Account")]),t.isInEditMode?t._e():a("b-button",{staticClass:"float-right tool-button ",on:{click:t.activateEditMode}},[a("p",{},[t._v("Edit account"),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_pencil_black.svg"}})])])],1)]),a("div",{staticClass:"my-3"},[a("b-form",{on:{submit:t.updateAccount}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 thumbnail-container"},[a("div",{staticClass:"thumbnail-container img-thumbnail-cover",style:t.generateBgImage()})]),a("div",{staticClass:"col-8"},[t.isInEditMode?t._e():a("div",{staticClass:"vertical-center"},[a("h2",[t._v(" "+t._s(t.username)+" ")]),a("small",[t._v(t._s(t.user_id))]),a("h6",{staticClass:"text-muted"},[a("a",{attrs:{href:t.generateMail()}},[t._v(t._s(t.email))])]),a("h6",[t._v(t._s(t.privilegeLabel)),a("span",{staticClass:"text-muted"},[t._v(" since "+t._s(t.formatDate(t.createdAt)))])])]),t.isInEditMode?a("div",{staticClass:"vertical-center"},[a("b-form-group",{staticClass:"my-2",attrs:{id:"username-group",label:"Username","label-for":"username",description:"","label-cols":"2"}},[a("b-form-input",{staticClass:"form-text-edit bottom-line",attrs:{id:"username",type:"text",placeholder:"Pick a username"},model:{value:t.fullName,callback:function(e){t.fullName=e},expression:"fullName"}})],1),a("b-form-group",{staticClass:"my-2",attrs:{id:"email-group",label:"Email","label-for":"email","label-cols":"2"}},[a("b-form-input",{staticClass:"form-text-edit bottom-line",attrs:{id:"email",type:"email",placeholder:"Enter email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("b-form-group",{staticClass:"my-2",attrs:{id:"password-group",label:"Password","label-for":"password","label-cols":"2"}},[a("b-form-input",{staticClass:"form-text-edit bottom-line",attrs:{id:"password",type:"password",placeholder:"Change password (optional)"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("b-form-group",{staticClass:"my-2",attrs:{id:"fieldset-horizontal","label-cols":"2",description:"",label:"Picture","label-for":"image"}},[a("b-form-file",{ref:"image",staticClass:"form-text-edit bottom-line file-drop",attrs:{name:"image",id:"image",placeholder:"Choose or drop a profile picture here...","drop-placeholder":"Drop image here..."},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)],1):t._e()])]),a("div",{staticClass:"my-3"},[t.isInEditMode?a("label",{attrs:{for:"description"}},[t._v("Description")]):t._e(),t.isInEditMode?a("b-form-textarea",{staticClass:"form-text-edit bottom-line",attrs:{id:"description",type:"description",placeholder:"Tell something about yourself and your household.",rows:"3","max-rows":"8","no-auto-shrink":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}):t._e()],1),a("div",{staticClass:"my-3"},[t.isInEditMode?t._e():a("label",{attrs:{for:"description"}},[t._v("Description")]),t.isInEditMode?t._e():a("b-form-textarea",{attrs:{id:"description",type:"description",placeholder:"You don't have a description yet. Edit your account to add some additional information about yourself and your household.",rows:"3","max-rows":"8","no-auto-shrink":"",disabled:"",plaintext:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t.isInEditMode?a("b-button",{staticClass:"float-right",attrs:{variant:"primary",type:"submit"}},[t._v("Update account")]):t._e(),t.isInEditMode?a("b-button",{staticClass:"mr-3 float-right",attrs:{variant:"outline-secondary"},on:{click:t.deactivateEditMode}},[t._v(" Cancel ")]):t._e()],1)],1)]),a("div",{staticClass:"col-12 my-5"},[t.localKeypair?t._e():a("b-card",{attrs:{"bg-variant":"dark","text-variant":"white",title:"No valid keypair found on this device"}},[a("b-card-text",[t._v(" Maybe you are using a new device or cleared your browser. Fill in the secret word (Private Key) we provided upon registration to enable voting from this device. ")]),a("b-form-group",{staticClass:"my-5",attrs:{id:"privateKey-group",label:"Private Key","label-for":"privateKey",description:"","label-cols":"2"}},[a("b-form-input",{staticClass:"form-text-edit bottom-line",attrs:{id:"privateKey",type:"text",placeholder:"Fill in your private key"},model:{value:t.privateKey,callback:function(e){t.privateKey=e},expression:"privateKey"}})],1),a("div",{staticClass:"row"},[a("b-button",{staticClass:"float-right",attrs:{href:"#",variant:"primary"},on:{click:t.generatePublicKey}},[t._v("Enter private key")])],1)],1)],1),a("div",{staticClass:"col-12"},[a("CAMyOpenVotes")],1)])},Ve=[],Ne=[{value:null,text:"Please select an option",disabled:!0},{text:"Admin",value:V.a.USER_PRIVILEGE_ADMIN},{text:"Founder",value:V.a.USER_PRIVILEGE_FOUNDER},{text:"Board",value:V.a.USER_PRIVILEGE_BOARD},{text:"Member",value:V.a.USER_PRIVILEGE_MEMBER},{text:"Coach",value:V.a.USER_PRIVILEGE_COACH},{text:"Partner",value:V.a.USER_PRIVILEGE_PARTNER},{text:"Financier",value:V.a.USER_PRIVILEGE_FINANCIER},{text:"Applying for membership",value:V.a.USER_PRIVILEGE_APPLICANT_MEMBER},{text:"Applying to become coach",value:V.a.USER_PRIVILEGE_APPLICANT_COACH},{text:"Applying for partnership",value:V.a.USER_PRIVILEGE_APPLICANT_PARTNER},{text:"Aspirant",value:V.a.USER_PRIVILEGE_ASPIRANT},{text:"Visitor",value:V.a.USER_PRIVILEGE_VISITOR}],Fe={name:"CAAccount",props:{},components:{CAMyOpenVotes:Y},data:function(){return{email:"",password:"",fullName:"",createdAt:"",isInEditMode:0,title:"",description:"",privilege:"",image:"",brand:"loading",selected:null,publicKey:null,privateKey:"",localKeypair:!1,options:[{value:null,text:"Please select your language"},{value:"a",text:"English"},{value:"b",text:"Dutch"}],navItems:[]}},computed:{loggedIn:function(){return-1!==this.$store.state.user_id},currentPrivilege:function(){return this.$store.state.privilege},userEmail:function(){return this.$store.state.email},username:function(){return this.$store.state.username},user_id:function(){return this.$store.state.user_id},profileImg:function(){return this.pathToImage(this.$store.state.profileImg)},privilegeLabel:function(){var t=this,e=B.a.find(Ne,(function(e){return e.value==t.$store.state.privilege})).text;return e}},methods:{logOut:function(){var t=this;this.axios.get(this.$API+"/users/logout").then((function(){t.$store.commit("logOut"),t.$router.push({name:"login",params:{}})})).catch((function(e){window.console.log(e),t.$router.push({name:"welcome",params:{}})}))},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+V.a.months[e.getMonth()]+" "+e.getFullYear()},pathToImage:function(t){var e=this.$API.replace("api","");return t?e+t:e+"uploads/images/defaultUser.png"},generateBgImage:function(){return window.console.log("CAAccount store.state ",this.$store.state),"background-image: url('".concat(this.pathToImage(this.image),"')")},activateEditMode:function(){this.isInEditMode=1},deactivateEditMode:function(){this.isInEditMode=0},updateAccount:function(t){var e=this;t.preventDefault();var a=new FormData;a.append("username",this.fullName),a.append("description",this.description),a.append("email",this.email),a.append("profileImg",this.image),window.console.log("CAAccount updateAccount >> formData ",this.image),this.axios.put(this.$API+"/users/"+this.id,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$store.commit("logIn",t.data),e.isInEditMode=0})).catch(this.onFailure)},generateMail:function(){return"mailto: "+this.email},verifyPublicKey:function(){var t=this;this.$CryptoWrapper.verifyAppCredentials(this.user_id).then((function(e){return window.console.log(">>CAAccount > verified publicKey",e),t.localKeypair=!!e})).catch((function(t){window.console.log("CAAccount >> error while verifying public key",t)}))},generatePublicKey:function(){var t=this;this.$CryptoWrapper.restoreAppCredentials(this.user_id,this.privateKey,this.publicKey).then((function(e){window.console.log(">> CAAccount > restored app credentials: ",e),t.verifyPublicKey()})).catch((function(t){window.console.log("err",t)}))},restorePublicKey:function(){}},mounted:function(){var t=this;-1==this.$store.state.user_id&&window.console.log("CAAccount > User is not logged in."),this.axios.get(this.$API+"/users/profile").then((function(e){t.privilege=e.data.privilege,t.id=e.data._id,t.createdAt=e.data.createdAt,t.image=e.data.profileImg,t.email=e.data.email,t.description=e.data.description,t.fullName=e.data.username,t.publicKey=e.data.publicKey,t.verifyPublicKey()})).catch((function(t){window.console.log("CAAccount error: ",t)}))}},Ge=Fe,Be=(a("3c98"),Object(g["a"])(Ge,Ue,Ve,!1,null,"1b6512c7",null)),ze=Be.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"explain-keys",expression:"'explain-keys'"}],attrs:{pill:"",variant:"outline-secondary"}},[t._v(" ? ")]),a("b-modal",{attrs:{id:"explain-keys",centered:"",title:"Keep your secret code safe",size:"xl",scrollable:""},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.hide;return[a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){i(),r()}}},[t._v(" I understand ")])]}}])},[a("p",[t._v(" Your profile on this platform contains all your official agreements with the cooperative. That’s why we will create a secret key code that you can use should something go wrong with your registration. You can then always restore your profile and all your votes on articles and other binding agreements. ")]),a("h5",[t._v("How to safely store my secret code")]),a("p",[t._v(" We recommend that you write your code down in on a piece of paper and put that in an envelope or a small box. Clearly label that container and keep it in a place where you would keep important documents like a will, passports or the deed to your house. It is equally important, since it represents your rights and duties within the cooperative. ")])])],1)},Ke=[],Ye={name:"CAExplainKeys",props:{},data:function(){},computed:{},methods:{},mounted:function(){}},We=Ye,qe=Object(g["a"])(We,Je,Ke,!1,null,"465f3506",null),He=qe.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col col-12"},[a("div",{staticClass:"row my-3 "},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[t.id?a("h1",{staticClass:"display-4 "},[t._v("Edit milestone")]):a("h1",{staticClass:"display-4 "},[t._v("New milestone")]),t.id?a("b-button",{staticClass:"float-right tool-button ",on:{click:function(e){return t.$bvModal.show("modal-delete-milestone")}}},[a("p",{},[t._v("Delete milestone "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_x.svg"}})])]):t._e()],1)]),a("div",{staticClass:"row"},[a("b-form",{staticClass:"form-horizontal col-12",attrs:{method:"POST",enctype:"multipart/form-data"},on:{submit:t.checkForm}},[a("b-card",{staticClass:"overflow-hidden",attrs:{"header-bg-variant":"transparent","header-border-variant":"light","no-body":""}},[t.errors.length?a("b",[a("b",[t._v("Please correct the following error(s)")]),t._l(t.errors,(function(e){return a("div",{key:e.id,staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._v(" "+t._s(e)+" ")])}))],2):t._e(),t.notifications.length?a("b",t._l(t.notifications,(function(e){return a("div",{key:e.id,staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(e)+" ")])})),0):t._e(),a("div",{staticClass:"mt-2",staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end"}},[a("b-form-group",{attrs:{id:"fieldset-horizontal",description:""}},[a("label",{staticClass:"control-label text-light-grey",attrs:{for:"lockTitle"}},[t._v("Title")]),a("b-form-input",{staticClass:"h4 form-text-edit bottom-line",attrs:{id:"title",rows:"1","no-resize":""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-card-text",{staticClass:"overflow-hidden; mb-3 mt-2",staticStyle:{}},[a("b-form-group",{attrs:{id:"fieldset-horizontal"}},[a("label",{staticClass:"control-label text-light-grey",attrs:{for:"lockTitle"}},[t._v("Description")]),a("b-form-textarea",{staticClass:"form-control form-text-edit bottom-line",attrs:{name:"description",rows:"3","max-rows":"8","no-resize":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),a("div",[a("label",{staticClass:"control-label text-light-grey",attrs:{for:"lockTitle"}},[t._v("Linked articles")]),t._l(t.articles,(function(e){return a("div",{key:e.key,staticClass:"my-3"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("b-card",{staticClass:"py-2",staticStyle:{width:"100%"},attrs:{"bg-variant":"light","no-body":""}},[a("div",[a("div",{staticClass:"float-right"},[t.isDraft(e)?a("p",[a("b-badge",{attrs:{pill:"",variant:"secondary"}},[t._v("Draft")])],1):t._e(),t.isUnderVote(e)?a("p",[a("b-badge",{attrs:{pill:"",variant:"warning"}},[t._v("In vote")])],1):t._e(),t.isAdopted(e)?a("p",[a("b-badge",{attrs:{pill:"",variant:"success"}},[t._v("Adopted")])],1):t._e(),t.isRejected(e)?a("p",[a("b-badge",{attrs:{pill:"",variant:"danger"}},[t._v("Rejected")])],1):t._e()]),a("p",[t._v(t._s(e.title)+" ")])])]),a("b-button",{staticClass:"float-right tool-button ",on:{click:function(a){return t.removeArticle(e)}}},[a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_x.svg"}})])],1)])})),a("div",{staticClass:"row my-2"},[a("div",{staticClass:"col"},[a("b-button",{staticClass:"float-md-right tool-button",on:{click:function(e){return t.$bvModal.show("modal-add-article")}}},[a("p",{},[t._v("Add article "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_plus_sign.svg"}})])])],1)])],2),a("b-form-group",{attrs:{id:"fieldset-horizontal",description:""}},[a("label",{staticClass:"control-label text-light-grey",attrs:{for:"lockTitle"}},[t._v("Due Date")]),a("b-form-input",{attrs:{type:"date",id:"dueDate"},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"dueDate"}})],1)],1)]),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("b-button",{staticClass:"big-button display-4 my-4",attrs:{type:"submit",id:"Submit",name:"Submit"}},[t._v("Save milestone")])],1)],1)],1),a("b-modal",{attrs:{id:"modal-add-article",centered:"",title:"Add article",size:"xl"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=(e.cancel,e.hide);return[a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){i(),r()}}},[t._v(" Done ")])]}}])},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-button-group",[a("b-input-group",[a("b-form-input",{staticClass:"pl-2 bottom-line form-text-edit",model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}})],1),a("b-button",{staticClass:"tool-button bottom-line",staticStyle:{"min-width":"8rem"},on:{click:t.searchArticles}},[a("div",{},[a("p",{},[t._v("Search "),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_magnifying_glass.svg"}})])])])],1)],1)]),a("div",{staticClass:"row mt-3"},[a("b-card-group",{staticClass:"col",attrs:{columns:""}},t._l(t.foundArticles,(function(e){return a("b-card",{key:e.key,staticClass:"overflow-hidden",attrs:{"header-bg-variant":"transparent","header-border-variant":"light","bg-variant":"light","no-body":""},on:{click:function(a){return t.addArticle(e)}}},[a("div",{staticClass:"card-content article-card-search"},[a("div",{staticClass:"mt-2"},[t._v(" "+t._s(t.formatDate(e.createdAt))+" "),t.isDraft(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"secondary"}},[t._v("Draft")])],1):t._e(),t.isUnderVote(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"warning"}},[t._v("In vote")])],1):t._e(),t.isAdopted(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"success"}},[t._v("Adopted")])],1):t._e(),t.isRejected(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"danger"}},[t._v("Rejected")])],1):t._e()]),a("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-start"}},[a("b-card-text",{staticClass:"overflow-hidden ",staticStyle:{"font-weight":"700","min-height":"4.5rem","max-height":"4.5rem"}},[t._v(" "+t._s(e.title)+" ")])],1)])])})),1)],1)]),a("b-modal",{attrs:{id:"modal-delete-milestone",centered:"",title:"Are you sure you want to delete this milestone?"},on:{ok:t.deleteMilestone},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel,s=e.hide;return[a("b-button",{attrs:{size:"md",variant:"outline-secondary"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{attrs:{size:"md",variant:"danger"},on:{click:function(t){i(),s()}}},[t._v(" Delete milestone ")])]}}])},[a("p",[t._v("You are about to delete milestone "),a("b",[t._v(t._s(t.title))]),t._v(". This cannot be undone.")])])],1)},Qe=[],Xe=(a("c740"),a("a434"),a("841c"),{components:{},data:function(){return{errors:[],notifications:[],title:"",description:"",dueDate:"",articles:[],allArticles:[],availableArticles:[],foundArticles:[],id:null,milestone:null,searchTerm:"",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},mounted:function(){var t=this;this.milestone=this.$route.params.milestone||null,this.id=this.$route.params.id||null,this.axios.get(this.$API+"/articles/search").then((function(e){window.console.log(">> CAEditMilestones > all articles: ",e.data),t.allArticles=e.data})),this.id&&this.axios.get(this.$API+"/milestones/"+this.id).then((function(e){t.title=e.data.title,t.description=e.data.description,t.articles=e.data.articles,t.dueDate=t.formatDateForPicker(e.data.dueDate)})).catch((function(e){t.errors.push(e)}))},computed:{},methods:{checkForm:function(t){return this.errors=[],this.title&&this.description&&this.id?(this.updateMilestone(),void t.preventDefault()):this.title&&this.description?(this.createMilestone(),void t.preventDefault()):(this.title||this.errors.push("Title required."),this.description||this.errors.push("Description required."),this.dueDate||this.errors.push("Due date required."),void t.preventDefault())},createMilestone:function(){var t=this;this.notifications=[],this.errors=[];var e=new FormData;e.append("title",this.title),e.append("description",this.description),e.append("dueDate",this.dueDate),e.append("articles",this.articles),window.console.log(">> CAEditMilestones > before upload >",e.articles),this.axios.post(this.$API+"/milestones",{title:this.title,description:this.description,dueDate:this.dueDate,articles:this.articles}).then((function(e){window.console.log(e.data),t.$router.push({name:"milestone",params:{id:e.data._id}})})).catch((function(e){t.errors.push(e)}))},updateMilestone:function(){var t=this;this.notifications=[],this.errors=[],this.axios.put(this.$API+"/milestones/"+this.id,{title:this.title,description:this.description,dueDate:this.dueDate,articles:this.articles}).then((function(e){window.console.log(e.data),t.$router.push({name:"milestone",params:{id:e.data._id}})})).catch((function(e){t.errors.push(e)}))},showMilestones:function(t){this.$router.push({name:"milestone",params:{id:t._id}})},isDraft:function(t){return t.status==V.a.ARTICLE_STATUS_DRAFT},isUnderVote:function(t){return t.status==V.a.ARTICLE_STATUS_PENDING},isAdopted:function(t){return t.status==V.a.ARTICLE_STATUS_ADOPTED},isRejected:function(t){return t.status==V.a.ARTICLE_STATUS_REJECTED},formatDateForPicker:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()<9?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()},searchArticles:function(){window.console.log("CAEditMilestones searchArticles all ",this.searchTerm);var t=this.searchTerm.toLowerCase();return this.foundArticles=B.a.filter(this.allArticles,(function(e){return e.title.toLowerCase().search(t)>-1})),this.searchTerm},addArticle:function(t){window.console.log("CAEditMilestones add article ",t),this.articles.push(t),window.console.log("CAEditMilestones articles ",this.articles)},removeArticle:function(t){var e=B.a.findIndex(this.articles,["id",t.id]);window.console.log("CAEditMilestones remove article ",t," index ",e),this.articles.splice(e,1)},formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},deleteMilestone:function(){var t=this;window.console.log("CAEditMilestones delete ",this.title),this.axios.delete(this.$API+"/milestones/"+this.id,{}).then((function(e){window.console.log(e.data),t.$router.push({name:"categories",params:{}})})).catch((function(e){t.errors.push(e)}))}}}),ta=Xe,ea=Object(g["a"])(ta,Ze,Qe,!1,null,"1d96a600",null),aa=ea.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("b-img",{staticClass:"overflow-hidden",staticStyle:{"max-height":"20em","min-width":"100%"},attrs:{src:t.PathToImage}})],1),a("div",{staticClass:"row my-3 "},[a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("h1",{staticClass:"display-4 "},[t._v("Milestone")]),a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[a("b-button",{staticClass:"float-right tool-button ",attrs:{to:{name:"editMilestone",params:{id:t.id}}}},[a("p",{},[t._v("Edit milestone"),a("img",{staticClass:"ml-2 tool-button-icon ",attrs:{src:"/img/icon_pencil_black.svg"}})])])],1)])]),a("b-card",{staticClass:"overflow-hidden mb-5",attrs:{"header-bg-variant":"transparent","header-border-variant":"light","no-body":""}},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"mt-3",staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end"}},[a("b-card-title",{staticClass:"overflow-hidden "},[a("h3",[t._v(t._s(t.title))])]),a("div",[a("hr")]),a("b-card-text",{staticClass:"overflow-hidden; mb-3 mt-2 text-prewrap",staticStyle:{}},[t._v(" "+t._s(t.description)+" ")]),a("div",[a("hr")]),a("div",{staticClass:"mt-2 mb-2"},[a("span",{},[t._v("Due date "+t._s(t.formatDate(t.dueDate)))])])],1)])]),a("div",[t.articles.length?a("div",[a("h1",{staticClass:"display-4 mb-3"},[t._v("Linked articles")]),a("b-card-group",{attrs:{columns:""}},t._l(t.articles,(function(e){return a("b-card",{key:e.key,staticClass:"overflow-hidden",attrs:{"header-bg-variant":"transparent","header-border-variant":"light","no-body":""},on:{click:function(a){return t.gotoArticle(e)}}},[a("div",{staticClass:"card-content article-card"},[a("div",{staticClass:"mt-2"},[t._v(" "+t._s(t.formatDate(e.createdAt))+" "),t.isDraft(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"secondary"}},[t._v("Draft")])],1):t._e(),t.isUnderVote(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"warning"}},[t._v("In vote")])],1):t._e(),t.isAdopted(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"success"}},[t._v("Adopted")])],1):t._e(),t.isRejected(e)?a("p",{staticClass:"float-right"},[a("b-badge",{attrs:{pill:"",variant:"danger"}},[t._v("Rejected")])],1):t._e()]),a("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end"}},[a("b-card-title",{staticClass:"overflow-hidden ",staticStyle:{"max-height":"6rem"}},[t._v(" "+t._s(e.title)+" ")]),a("div",[a("hr")]),a("b-card-text",{staticClass:"overflow-hidden; mb-3 mt-2",staticStyle:{"min-height":"8rem","max-height":"8rem"}},[t._v(" "+t._s(e.description)+" ")])],1)])])})),1)],1):t._e()])],1)},ra=[];String.prototype.trunc=String.prototype.trunc||function(t){return this.length>t?this.substr(0,t-1)+"…":this};var sa={name:"CAMilestone",props:{id:Number},data:function(){return{title:"",image:"",description:"",fields:["title"],milestones:[],articles:[],dueDate:"",breadcrumbItems:[{text:"milestones",to:"/milestones"},{text:"loading...",active:!0}],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},computed:{isAuhtorized:function(){return this.$store.state.privilege>=V.a.USER_PRIVILEGE_MEMBER}},created:function(){var t=this;this.axios.get(this.$API+"/milestones/?milestone="+this.$route.params.id).then((function(e){window.console.log(">> CAMilestone > requested milestones: ",e.data),t.milestones=e.data})),this.axios.get(this.$API+"/milestones/"+this.$route.params.id).then((function(e){t.id=e.data._id,t.title=e.data.title,t.description=e.data.description,t.image=e.data.image,t.articles=e.data.articles,t.dueDate=e.data.dueDate}))},methods:{formatDate:function(t){var e=new Date(t);return e.getDate()+" "+this.months[e.getMonth()]+" "+e.getFullYear()},gotoArticle:function(t){window.console.log("artcle(id): ",t),this.$router.push({name:"article",params:{id:t.id}})},isDraft:function(t){return t.status==V.a.ARTICLE_STATUS_DRAFT},isUnderVote:function(t){return t.status==V.a.ARTICLE_STATUS_PENDING},isAdopted:function(t){return t.status==V.a.ARTICLE_STATUS_ADOPTED},isRejected:function(t){return t.status==V.a.ARTICLE_STATUS_REJECTED}}},oa=sa,na=Object(g["a"])(oa,ia,ra,!1,null,"3045d96a",null),la=na.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isAuhtorized?a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12 my-5 text-center"},[t.id?a("div",[a("h1",{staticClass:"display-4"},[t._v("Edit organisation")])]):a("div",[a("h1",{staticClass:"display-3"},[t._v("Setup")]),a("p",{staticClass:"lead"},[t._v("You are about to create a new organisation.")])])]),a("div",{staticClass:"col col-md-12"},[a("b-form",{on:{submit:t.updateInstance}},[a("b-form-group",{attrs:{id:"fieldset-horizontal","label-cols-sm":"4","label-cols-lg":"3",description:"",label:"Title","label-for":"title"}},[a("b-form-input",{staticClass:"bottom-line",attrs:{id:"title",type:"text"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{attrs:{id:"fieldset-horizontal","label-cols-sm":"4","label-cols-lg":"3",description:"",label:"Description","label-for":"description"}},[a("b-form-textarea",{staticClass:"form-control bottom-line",attrs:{rows:"6",id:"description",name:"description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("br"),t.id?a("b-button",{staticClass:"float-right",attrs:{type:"submit",variant:"primary"}},[t._v("Save changes")]):a("b-button",{staticClass:"float-right",attrs:{type:"submit",variant:"primary"}},[t._v("Create organisation")])],1)],1)]):a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[a("b-alert",{attrs:{variant:"danger",show:""}},[a("h4",{staticClass:"alert-heading"},[t._v("Not authorized")]),a("p",[t._v(" You don't have the right privileges to access this page. ")])])],1)])},ua=[],da={name:"CASetup",props:{},data:function(){return{title:"",description:"",id:""}},computed:{isAuhtorized:function(){return this.$store.state.privilege>=V.a.USER_PRIVILEGE_MEMBER}},mounted:function(){var t=this;this.axios.get(this.$API+"/instance").then((function(e){t.title=e.data.title,t.description=e.data.description,t.id=e.data._id,t.$store.commit("setInstance",e.data),window.console.log("CASetup update instance : ",e)})).catch((function(t){window.console.log(">> CASetup > No instance yet: ",t)}))},methods:{updateInstance:function(t){t.preventDefault(),this.id?this.axios.put(this.$API+"/instance/"+this.id,{title:this.title,description:this.description}).then(this.onSuccess).catch(this.onFailure):this.axios.post(this.$API+"/instance/",{title:this.title,description:this.description}).then(this.onSuccess).catch(this.onFailure)},onSuccess:function(t){window.console.log("success",t),this.$store.commit("alertSuccess","Succesfully saved"),this.$store.commit("setInstance",t.data),this.$router.push({name:"welcome"})},onFailure:function(t){window.console.log("fail",t),this.$store.commit("alertError","Something went wrong.")}}},pa=da,ma=Object(g["a"])(pa,ca,ua,!1,null,"0471b38e",null),ha=ma.exports;i["default"].use(O["a"]);var fa=new O["a"]({mode:"history",routes:[{path:"/",name:"welcome",component:Q},{path:"/home",name:"home",component:Q},{path:"/members",name:"members",component:vt},{path:"/member/:id",name:"member",component:Gt},{path:"/categories",name:"categories",component:te},{path:"/milestones",name:"milestones",component:Ht},{path:"/milestone",name:"milestone",component:la},{path:"/milestone/new",name:"newMilestone",component:aa},{path:"/milestone/:id/edit",name:"editMilestone",component:aa},{path:"/category/new",name:"newCategory",component:pe},{path:"/category/:id/edit",name:"editCategory",component:pe,props:!0},{path:"/category/:id",name:"category",component:oe},{path:"/articles/:id",name:"article",component:be},{path:"/articles/:id/edit",name:"editArticle",component:Ee,props:!0},{path:"/category/:category/new-article",name:"newArticle",component:Ee,props:!0},{path:"/login",name:"login",component:Re},{path:"/register",name:"register",component:je},{path:"/account/",name:"account",component:ze},{path:"/explainkeys/",name:"explainkeys",component:He},{path:"/setup/",name:"setup",component:ha}]}),ga=(a("4160"),a("ace4"),a("e439"),a("dbb4"),a("b64b"),a("3ca3"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a9"),a("72f7"),a("159b"),a("ddb0"),a("bf2d")),va=a("2fa7"),ba=a("e587"),ya=a("ad86").default,_a={verbosity:0},wa=Ca;function Ca(){}Ca.prototype.runLuaScript=function(t){var e=t.script||void 0;return new Promise((function(t,a){var i=[],r=function(t){i.push(t)},s=Object.assign({},_a,{print:r});ya.init(s),ya.script(e).success((function(){var e={};try{e=JSON.parse(i.join(" "))}catch(a){e={output:i.join(" ")}}return i=[],ya.reset(),t(e)})).error((function(){var t=new Error("Zenroom Error"+i.join(" "));i=[],a(t)})).zenroom_exec()}))},Ca.prototype.runScript=function(t){var e=t.script||"",a=t.keys||{},i=t.data||"",r=t.conf||{};return new Promise((function(t,s){var o=[],n=function(t){o.push(t)},l=Object.assign({},_a,{print:n});ya.init(l),ya.keys(a).data(i).conf(r).script(e).print(n).success((function(){var e={};try{e=JSON.parse(o.join(" "))}catch(a){return s(a)}return o=[],ya.reset(),t(e)})).error((function(){var t=new Error("Zenroom Error"+o.join(" "));o=[],s(t)})).zencode_exec()}))};var Aa=a("a002"),Ea=a.n(Aa);function Sa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function xa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Sa(a,!0).forEach((function(e){Object(va["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Sa(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ia=1;function ka(t){0!=Ia&&window.console.log(t,arguments)}Ea.a.config({name:"CA_store",storeName:"CA_keyvaluepairs",version:1});var Da={initiated:!1},Ra={algorithm:{name:"AES-GCM",length:256},extractable:!1,keyUsages:["encrypt","decrypt"]};function Ta(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Ea.a.getItem("dataSaveKey"));case 2:if(t=e.sent,!t){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",window.crypto.subtle.generateKey({name:"AES-GCM",length:256},Ra.extractable,Ra.keyUsages).then((function(t){return Ea.a.setItem("dataSaveKey",t)})).catch((function(t){window.console.error(">> err",t)})));case 6:case"end":return e.stop()}}))}function Pa(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Ea.a.getItem("iv"));case 2:if(t=e.sent,!t){e.next=5;break}return e.abrupt("return",t);case 5:return t=window.crypto.getRandomValues(new Uint8Array(12)),e.abrupt("return",Ea.a.setItem("iv",t));case 7:case"end":return e.stop()}}))}function Ma(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Ea.a.getItem("dataSaveKey"));case 1:case"end":return t.stop()}}))}function $a(t){var e,a,i;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e=t||"1",a={script:" rule check version 1.0.0\n\t\t\t\t\tScenario 'simple': Create the keypair\n\t\t\t\t\tGiven that I am known as '".concat(e,"'\n\t\t\t\t\tWhen I create the keypair\n\t\t\t\t\tThen print my data"),data:{},keys:{},conf:V.a.zenroomSettings},i=new wa,r.abrupt("return",i.runScript(a));case 4:case"end":return r.stop()}}))}function Oa(t,e){var a,i,r,s,o,n;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return a=e||"1",l.next=3,regeneratorRuntime.awrap(Promise.all([Ma(),Pa()]));case 3:return i=l.sent,r=Object(ba["a"])(i,2),s=r[0],o=r[1],l.next=9,regeneratorRuntime.awrap(La(s,o,t));case 9:return n=l.sent,l.abrupt("return",Ea.a.setItem("appCredentials_"+a,n));case 11:case"end":return l.stop()}}))}function La(t,e,a){var i,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return i=Ua(a),r={name:"AES-GCM",iv:e},s.abrupt("return",window.crypto.subtle.encrypt(r,t,i));case 3:case"end":return s.stop()}}))}function ja(t,e,a){var i,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return i={name:"AES-GCM",iv:e},s.next=3,regeneratorRuntime.awrap(window.crypto.subtle.decrypt(i,t,a));case 3:return r=s.sent,s.abrupt("return",Va(r));case 5:case"end":return s.stop()}}))}function Ua(t){var e=new TextEncoder,a="object"===Object(ga["a"])(t)?JSON.stringify(t):t;return e.encode(a)}function Va(t){var e=new TextDecoder,a=e.decode(t),i={};try{i=JSON.parse(a)}catch(r){window.console.error("CryptoWrapper >> msg was not an object > ",r),i.msg=a}return i}Da.init=function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isInitiated()){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,regeneratorRuntime.awrap(Ta());case 4:return t=e.sent,t&&(this.initiated=!0),e.abrupt("return",new Error("Could not generate a data key pair"));case 7:case"end":return e.stop()}}),null,this)},Da.isInitiated=function(){return!!this.initiated},Da.reset=function(){this.initiated=!1,this.init()},Da.storePublicKey=function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return ka(">> Cryptowrapper > Storing public key",t),e.abrupt("return",Ea.a.setItem("publicKey",t));case 2:case"end":return e.stop()}}))},Da.getPublicKey=function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Ea.a.getItem("publicKey"));case 1:case"end":return t.stop()}}))},Da.getAppCredentials=function(t){var e,a,i,r,s,o,n;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return e=t||"1",l.next=3,regeneratorRuntime.awrap(Ea.a.getItem("appCredentials_"+e));case 3:if(a=l.sent,a){l.next=15;break}return ka(">> CryptoWrapper > no encryptedAppCredentials"),l.next=8,regeneratorRuntime.awrap($a(e));case 8:return i=l.sent,ka(">> CryptoWrapper > generated app credentials",i),l.next=12,regeneratorRuntime.awrap(Oa(i,e));case 12:return a=l.sent,ka(">> CryptoWrapper > encrypted credentials",a),l.abrupt("return",i);case 15:return l.next=17,regeneratorRuntime.awrap(Promise.all([Ma(),Pa()]));case 17:return r=l.sent,s=Object(ba["a"])(r,2),o=s[0],n=s[1],l.abrupt("return",ja(o,n,a));case 22:case"end":return l.stop()}}))},Da.verifyAppCredentials=function(t){var e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,a.abrupt("return",Ea.a.getItem("appCredentials_"+e));case 2:case"end":return a.stop()}}))},Da.restoreAppCredentials=function(t,e,a){var i,r,s,o;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return i=t||"1",r=a||null,s={},s.zenroom=V.a.zenroomSettings,s[i]={keypair:{public_key:r,private_key:"u64:"+e}},window.console.log(">> CryptoWrapper > appCredentials: ",s),n.next=8,regeneratorRuntime.awrap(Oa(s,i));case 8:return o=n.sent,ka(">> CryptoWrapper > encrypted credentials",o),n.abrupt("return",s);case 11:case"end":return n.stop()}}))},Da.decryptMessageForUser=function(t,e){var a,i,r,s,o,n;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return ka(">> Cryptowrapper > decyrpt message from APP by "+t,e),l.prev=1,a=JSON.stringify(e),l.next=5,regeneratorRuntime.awrap(this.getAppCredentials(t));case 5:return i=l.sent,l.next=8,regeneratorRuntime.awrap(this.getPublicKey());case 8:return r=l.sent,s=xa({public_key:{APP:r},zenroom:e.zenroom},i),o="\n\t\t\tRule check version 1.0.0\n\t\t\tScenario 'simple': USER decrypts the message from APP\n\t\t\tGiven that I am known as '".concat(t,"'\n\t\t\tand I have my valid 'keypair'\n\t\t\tand I have a valid 'public key' from 'APP'\n\t\t\tand I have a valid 'secret message'\n\t\t\tWhen I decrypt the secret message from 'APP'\n\t\t\tThen print as 'string' the 'message'\n\t\t\tand print as 'string' the 'header' inside 'secret message'\n\t\t\t"),n=new wa,l.abrupt("return",n.runScript({script:o,data:a,keys:s}));case 15:throw l.prev=15,l.t0=l["catch"](1),new Error("Could not decrypt ballot");case 18:case"end":return l.stop()}}),null,this,[[1,15]])},Da.signMessage=function(t,e){var a,i,r,s,o,n,l,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:return ka(">> Cryptowrapper > sign message to APP from "+a,e),a=t||"1",u.prev=2,i=JSON.stringify(e),r="",u.next=7,regeneratorRuntime.awrap(this.getAppCredentials(a));case 7:return s=u.sent,u.next=10,regeneratorRuntime.awrap(this.getPublicKey());case 10:return o=u.sent,n=xa({public_key:{APP:o},zenroom:i.zenroom},s),l="\n\t\t\tRule check version 1.0.0\n\t\t\tScenario 'simple': USER encrypts a message for APP\n\t\t\tGiven that I am known as '".concat(a,"'\n\t\t\tand I have my valid 'keypair'\n\t\t\tand I have a valid 'public key' from 'APP'\n\t\t\tWhen I write '").concat(i,"' in 'message'\n\t\t\tand I write 'This is the header' in 'header'\n\t\t\tand I encrypt the message for 'APP'\n\t\t\tThen print the 'secret message'\n\t\t\t"),ka("\n\n\n\n\n>>Cryptowrapper > signMessage > keys\n\n",JSON.stringify(n),"\n\n"),ka("\n>>Cryptowrapper > signMessage > script\n\n",l,"\n"),c=new wa,u.abrupt("return",c.runScript({script:l,data:r,keys:n}));case 19:throw u.prev=19,u.t0=u["catch"](2),new Error("Could not decrypt ballot");case 22:case"end":return u.stop()}}),null,this,[[2,19]])},Da.encryptMessageByUser=function(t,e){return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:ka(">> Cryptowrapper > encrypt message from  "+t,e);case 1:case"end":return a.stop()}}))};var Na={install:function(t){t.prototype.$CryptoWrapper=Da}},Fa=Na;i["default"].use(n.a,s.a),i["default"].axios.defaults.withCredentials=!0,i["default"].use(c["a"]),i["default"].use(c["a"]),i["default"].use(l["a"]),i["default"].use(Fa),i["default"].config.productionTip=!1,i["default"].config.errorHandler=function(t,e,a){window.console.log(">> App >> errorHandler > Error: ".concat(t.toString(),"\nInfo: ").concat(a))},i["default"].config.warnHandler=function(t,e,a){window.console.log(">> App >> warnHandler > Warn: ".concat(t,"\nTrace: ").concat(a))},i["default"].prototype.$API="/api";var Ga=new l["a"].Store({state:{user_id:-1,_id:-1,privilege:-1,msgError:null,msgSuccess:null,msgWarning:null,username:null,instance:{_id:-1,title:"",description:""},profileImg:null},mutations:{logIn:function(t,e){window.console.log("Vuex Store >> user logged in",e),t.user_id=e._id,t._id=e._id,t.privilege=e.privilege,t.username=e.username,t.profileImg=e.profileImg,window.console.log("Vuex Store >> user_id",t.user_id)},logOut:function(t){window.console.log("Vuex Store >> user logged out"),t.user_id=-1,t.privilege=-1,t.username=null},setInstance:function(t,e){window.console.log("Vuex Store >> instance set ",e),t.instance=e},unsetInstance:function(t){window.console.log("Vuex Store >> no instance"),t.instance={_id:-1,title:"",description:""}},alertError:function(t,e){t.msgError=e,setTimeout((function(){t.msgError=null}),4e3)},alertSuccess:function(t,e){t.msgSuccess=e,setTimeout((function(){t.msgSuccess=null}),4e3)},alertWarning:function(t,e){t.msgWarning=e,setTimeout((function(){t.msgWarning=null}),4e3)}}}),Ba=new i["default"]({store:Ga,render:function(t){return t($)},router:fa});Ba.$mount("#app")},"5c0b":function(t,e,a){"use strict";var i=a("9c0c"),r=a.n(i);r.a},"62bd":function(t,e,a){"use strict";var i=a("237a"),r=a.n(i);r.a},"665e":function(t,e,a){},"6a12":function(t,e,a){"use strict";var i=a("8729"),r=a.n(i);r.a},"6c46":function(t,e,a){"use strict";var i=a("364c"),r=a.n(i);r.a},"822b":function(t,e,a){"use strict";var i=a("a890"),r=a.n(i);r.a},8729:function(t,e,a){},"8b7e":function(t,e,a){"use strict";var i=a("bbc2"),r=a.n(i);r.a},"944b":function(t,e,a){},"9c0c":function(t,e,a){},a42f:function(t,e,a){},a890:function(t,e,a){},aeb2:function(t,e,a){"use strict";var i=a("fa89"),r=a.n(i);r.a},b3cd:function(t,e,a){"use strict";var i=a("39cd"),r=a.n(i);r.a},b795:function(t,e,a){},bbc2:function(t,e,a){},c9d9:function(t,e){var a={VOTING_TERM_WEEK:6048e5,VOTING_TERM_DAY:864e5,VOTING_TERM_TEST:12e4,ARTICLE_STATUS_DRAFT:1,ARTICLE_STATUS_PENDING:2,ARTICLE_STATUS_REJECTED:3,ARTICLE_STATUS_ADOPTED:4,MAJORITY_SIMPLE:1,MAJORITY_CONSENSUS:2,VOTE_STATUS_PENDING:null,VOTE_STATUS_WITHELD:0,VOTE_STATUS_NAY:-1,VOTE_STATUS_YAY:1,USER_PRIVILEGE_ADMIN:10,USER_PRIVILEGE_FOUNDER:9,USER_PRIVILEGE_BOARD:8,USER_PRIVILEGE_MEMBER:7,USER_PRIVILEGE_COACH:6,USER_PRIVILEGE_PARTNER:5,USER_PRIVILEGE_FINANCIER:4,USER_PRIVILEGE_APPLICANT_MEMBER:3,USER_PRIVILEGE_APPLICANT_COACH:2,USER_PRIVILEGE_APPLICANT_PARTNER:1,USER_PRIVILEGE_ASPIRANT:0,USER_PRIVILEGE_VISITOR:-1,zenroomSettings:{curve:"goldilocks",encoding:"url64",version:"1.0.0+4f64c96",scenario:"simple"},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]};t.exports=a},de4a:function(t,e,a){"use strict";var i=a("f9ff"),r=a.n(i);r.a},f34d:function(t,e,a){"use strict";var i=a("b795"),r=a.n(i);r.a},f9ff:function(t,e,a){},fa89:function(t,e,a){}});
//# sourceMappingURL=app.74ca48a2.js.map